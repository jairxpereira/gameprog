<html><head>
<title>darkbasicPro_track08-2</title>
<style type="text/css">

span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}


.sc1 {
	color: darkgreen;
	font-weight: bold;
}


.sc2 {
	color: #008000;
}
.sc4 {
	color: #ff0000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #FF0000;
}
.sc9 {
	color: #804000;
	font-weight: bold;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #400080;
}

.prg {
	color: #0000FF;
}

.prg-saida {

	margin-left:0px;
	width:500pt;
	background-color:lightblue;
	
}

.prg-code {
	margin-left:0px;
	width:500pt;
	background-color:lightyellow;
	padding:10px;
	font-weight:bold;
}


.niceview {
	margin-left:0px;
	width:500pt;
	background-color:white;
	border-color:lightgray;
	border-width:1px;
	border-style:solid;
	padding:5px;
	
}

td
{
padding:3px;
}

table.dados
{

margin-left:50px;
width:45.0em;
border-collapse:collapse;
border:1px solid red;
text-align:center;


}

th
{
background-color:darkgreen;
color:yellow;
font-weight:bold;
text-transform:uppercase;
}
body
{
margin-left:60px;
}


</style></head>
<body><font color="black"><pre>
<hr>
<center><b>GAMEPROG - Escola de programação de jogos digitais</b><br><b>Contato: Jair Pereira - gameprog.br@gmail.com</b><br><b>Curso completo de Darkbasic Pro Versão 1.069</b><br><b>track08-2.html</b><br></center><table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%>
<tr><td><a href=dbpro.html style='color:blue'> index </a></td><td><a href='track08-1.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track08-3.html'style='color:blue'>&gt;&gt;</a></td></tr></table>
<a name="track08-1"></a>
<h3 style="background-color:#80ff80">08.2 Manipulação de strings</h3>
A variável do tipo string também é conhecida como variável alfanumérica
ou variável de texto.  A denominação variável  de  texto  não  é  muito
apropriada  pois  você  pode  estocar  numa string qualquer símbolo que
apareça no teclado ou na tabela ASCII e ainda você pode estocar números,
porém esses números serão tratados como texto.

Geralmente  você  vai  precisar manipular as strings para a exibição de
dados do seu programa na tela do computador, para gravar dados no disco,
para  representar  objetos  e estados do seu programa, para representar
porções  de  memória  e  muitas outras finalidades pois a utilidade das
strings é muita vasta.

Uma string geralmente é uma  sequência  de  caracteres, é  comum  uma 
referência  a  cada  carácter  da  string como sendo  um  byte,  isto 
porque cada carácter da string  tem  geralmente  um  byte  de  tamanho 
e  representa um byte que pode ser  lido  ou  gravado  em  um  arquivo.

Esta relação de cada carácter da string com um byte que pode ser lido 
ou gravado forma uma base para a dquirirmos  uma  percepção  concreta 
sobre  espaço,  armazenamento  e  volume  de  dados  em   informática,
por exemplo, um espaço  de  1000  bytes quer dizer que podemos ter um 
texto de 100 palavras com 10 letras cada uma.

<u><b>FUNÇÕES DE MANIPULAÇÃO DE STRINGS</b></u>

<div class=niceview> 
x$ = <b class=prg>str$(nVal)</b>
Esta função transforma um valor numérico numa string.  Ela é útil
para formatar os valores numéricos para exibição e para facilitar
a gravação de números no disco.

nVal = <b class=prg>val(x$)</b>
Esta função transforma uma número codificado em string em um valor
numérico.
</div>

<div class=niceview> 
nAscii = <b class=prg>asc(x$)</b>
Esta função retorna o código ascii do primeiro byte da string
especificada.

char$ = <b class=prg>chr$(nVal)</b>
Esta função retorna o carácter relativo ao código ascii 
representado por <b>nVal</b>. 

ntam = <b class=prg>len(x$)</b>
Esta função retorna o tamanho da string x$.
</div> 

<div class=niceview> 
big$ = <b class=prg>upper$(x$)</b>
Esta função retorna uma versão totalmente em caixa alta ou maiúscula
da string apresentada.

small$ = <b class=prg>lower$(x$)</b>
Esta função retorna uma versão em caixa baixa ou minúscula da string
apresentada.
</div> 

<div class=niceview> 
subtext$ = <b class=prg>left$(x$,nQtd)</b>
Esta função extrai uma quantidade especificada de caracteres que 
estão na esquerda da string.

subtext$ = <b class=prg>right$(x$,nQtd)</b>
Esta função extrai uma quantidade especificada de caracteres que 
estão na direita da string. 

byte$ = <b class=prg>mid$(x$, nPos)</b>
Esta função retorna um byte da string especificada, que tem a sua 
posição especificada por <b>nPos</b>.
</div> 

<u><b>CONVERSÃO NUMÉRICA</b></u>
xbin$ = <b class=prg>bin$(nVal)</b>
Esta função retorna uma string contendo a versão em formato binário 
do número especificado por <b>nVal</b>.

Esta função é útil para a configuração do programa em aspectos que podem
ser falsos ou verdadeiros, presentes ou não presentes. A vantagem é que
essa configuração ocupa pouco espaço e versatilidade na hora de gravar.

Veja a versão binária do número 170: <font color="darkgreen">10101010</font>
Cada byte dessa sequência pode significar o estado de um aspecto que você
queira configurar.

xhex$ = <b class=prg>hex$(nVal)</b>
Esta função retorna uma string contendo a versão em formato hexadecimal 
do número especificado por nVal.
Esta função é útil para gravar números em arquivos uma vez que o 
formato hexadecimal é mais compacto que o sistema decimal.
Veja a versão binária do número 170: <font color="darkgreen">AA</font>

<div class=prg-saida>
<img src=images\strings.png>
</div>
<div class=prg-code>

<span class="sc1">Rem Project: strings
Rem Created: 03/08/2013 19:56:28
</span><span class="sc7">inicio</span><span class="sc6">:</span><span class="sc0">
</span><span class="sc5">global</span><span class="sc0"> </span><span class="sc7">branco</span><span class="sc0"> </span><span class="sc5">as integer </span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc7">xffffff</span><span class="sc0">
</span><span class="sc5">global</span><span class="sc0"> </span><span class="sc7">azul</span><span class="sc0">   </span><span class="sc5">as integer</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc7">x0000ff</span><span class="sc0">

</span><span class="sc1">' variáveis de trabalho
</span><span class="sc7">nval</span><span class="sc0">     </span><span class="sc5">as integer</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc2">170</span><span class="sc0">
</span><span class="sc7">nascii</span><span class="sc0">   </span><span class="sc5">as integer</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc7">ntam</span><span class="sc0">     </span><span class="sc5">as integer</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0">      </span><span class="sc5">as string</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc4">""</span><span class="sc0">
</span><span class="sc7">site</span><span class="sc0">     </span><span class="sc5">as string</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc4">"gameprog"</span><span class="sc0">
</span><span class="sc7">letra</span><span class="sc0">    </span><span class="sc5">as string</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc4">""</span><span class="sc0">
</span><span class="sc7">sval</span><span class="sc0">     </span><span class="sc5">as string</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc4">"170"</span><span class="sc0">

</span><span class="sc7">initsys</span><span class="sc6">(</span><span class="sc4">"strings.dba"</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0">
</span><span class="sc5">set text font</span><span class="sc0"> </span><span class="sc4">"courier new"</span><span class="sc0">
</span><span class="sc5">set text size</span><span class="sc0"> </span><span class="sc2">18</span><span class="sc0">
</span><span class="sc5">set text to bold</span><span class="sc0">

</span><span class="sc7">nascii</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc5">asc</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc4">"a"</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" asc(''a'') = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">str$</span><span class="sc6">(</span><span class="sc7">nascii</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" chr$(34) = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0">  </span><span class="sc5">chr$</span><span class="sc6">(</span><span class="sc2">34</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc7">ntam</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc5">len</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc7">site</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" len(''gameprog'') = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">str$</span><span class="sc6">(</span><span class="sc7">ntam</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc5">print</span><span class="sc0">
</span><span class="sc7">letra</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc5">left$</span><span class="sc6">(</span><span class="sc7">site</span><span class="sc6">,</span><span class="sc2">1</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" left$(''gameprog'',1) = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc7">letra</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc7">letra</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0"> </span><span class="sc5">right$</span><span class="sc6">(</span><span class="sc7">site</span><span class="sc6">,</span><span class="sc2">4</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" right$(''gameprog'',4) = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc7">letra</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" mid$(''gameprog'',4) = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">mid$</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc7">site</span><span class="sc6">,</span><span class="sc2">4</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc5">print</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" bin$(170) = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">bin$</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc2">170</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" hex$(170) = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0">  </span><span class="sc5">hex$</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc2">170</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc5">print</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" upper$(''gameprog'') = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">upper$</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc7">site</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" lower$(''gameprog'') = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">lower$</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc7">site</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc5">print</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" str$(65) = ''"</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">str$</span><span class="sc6">(</span><span class="sc2">65</span><span class="sc6">)</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc4">"''"</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" val('170')+ 10 = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">str$</span><span class="sc0"> </span><span class="sc6">(</span><span class="sc5">val</span><span class="sc6">(</span><span class="sc7">sval</span><span class="sc6">)</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc2">10</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">
</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc6">=</span><span class="sc0">  </span><span class="sc4">" space$(4) + ''Gameprog'' = "</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc5">space$</span><span class="sc6">(</span><span class="sc2">4</span><span class="sc6">)</span><span class="sc0"> </span><span class="sc6">+</span><span class="sc0"> </span><span class="sc4">"''Gameprog''"</span><span class="sc0">
</span><span class="sc5">print</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">

</span><span class="sc7">final</span><span class="sc6">:</span><span class="sc0">
</span><span class="sc7">text</span><span class="sc0"> </span><span class="sc2">20</span><span class="sc6">,</span><span class="sc2">360</span><span class="sc6">,</span><span class="sc0"> </span><span class="sc4">" Pressione qualquer tecla para encerrar"</span><span class="sc0">
</span><span class="sc5">suspend for key</span><span class="sc0">
</span><span class="sc5">end</span><span class="sc0">

</span><span class="sc1">' ----- initsys() - Configuração básica da aplicação -----
</span><span class="sc5">function</span><span class="sc0"> </span><span class="sc7">initsys</span><span class="sc6">(</span><span class="sc7">txt</span><span class="sc0"> </span><span class="sc5">as string</span><span class="sc6">)</span><span class="sc0">
</span><span class="sc1">' configurando a janela
</span><span class="sc5">set window on</span><span class="sc0">
</span><span class="sc5">set window title</span><span class="sc0"> </span><span class="sc7">txt</span><span class="sc0">
</span><span class="sc5">ink</span><span class="sc0"> </span><span class="sc7">azul</span><span class="sc6">,</span><span class="sc0"> </span><span class="sc7">branco</span><span class="sc0">
</span><span class="sc5">cls</span><span class="sc0"> </span><span class="sc7">branco</span><span class="sc0">
</span><span class="sc5">endfunction</span><span class="sc0">
</span></div>

<table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%>
<tr><td><a href=dbpro.html style='color:blue'> index </a></td><td><a href='track21.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track23.html'style='color:blue'>&gt;&gt;</a></td></tr></table>
<hr><div style='background-color:lightyellow;color:blue'>
<center>Produzido por Gameprog: Jair Pereira - Fev/2006 - Setembro/2013 ©
gameprog.br@gmail.com
<a href='http://www.gameprog.com.br'>http://www.gameprog.com.br</a>
<a href='http://www.nucleoararat.com.br'>http://www.nucleoararat.com.br</a></center><hr></div></body></html>
