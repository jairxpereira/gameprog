<html><head>
<title>darkbasicPro_track09</title>
<style type="text/css">

span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}


.sc1 {
	color: darkgreen;
	font-weight: bold;
}


.sc2 {
	color: #008000;
}
.sc4 {
	color: #ff8000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #FF0000;
}
.sc9 {
	color: #804000;
	font-weight: bold;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #400080;
}

.prg {
	color: #0000FF;
}

.prg-saida {

	margin-left:50px;
	width:500pt;
	background-color:lightblue;
}

.prg-code {
	margin-left:50px;
	width:500pt;
	background-color:lightyellow;
}


.niceview {
	margin-left:50px;
	width:500pt;
	background-color:white;
	border-color:lightgray;
	border-width:1px;
	border-style:solid;
}

td
{
padding:3px;
}

table.dados
{

margin-left:50px;
width:45.0em;
border-collapse:collapse;
border:1px solid red;
text-align:center;


}

th
{
background-color:darkgreen;
color:yellow;
font-weight:bold;
text-transform:uppercase;
}
body
{
margin-left:60px;
}


</style></head>
<body><font color="black"><pre>
<hr>
<center><b>GAMEPROG - Escola de programação de jogos digitais</b><br><b>Contato: Jair Pereira - gameprog.br@gmail.com</b><br><b>Curso completo de Darkbasic Pro Versão 1.069</b><br><b>track09.html</b><br></center><table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%>
<tr><td><a href=dbpro.html style='color:blue'> index </a></td><td><a href='track08.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track10.html'style='color:blue'>&gt;&gt;</a></td></tr></table>

<a name="track09"></a>                                                                                                  
<h3 style="background-color:#80ff80">09. Sistema de arquivos</h3>                                                       
 O DarkBasic possui uma série de comandos e funções para manipular o sistema de                                         
 arquivos. Normalmente você vai precisar acessar essas funções para localizar                                           
 arquivos, verificar a existência deles, copiar, deletar e outras ações com                                             
 relação a arquivos.                                                                                                    
                                                                                                                        
 O DarkBasic usa uma nomenclatura antiga para o sistema de arquivos que difere                                          
 muito pouco da atual usada pelo Windows, por exemplo, <b>diretório</b> é um termo                                      
 antigo para referir-se a uma <b>pasta</b> ou conjunto de pastas.                                                       
                                                                                                                        
 <b>Driver</b> é uma referência aos discos ou leitores dados em termos de c: ou d: e assim                              
 por diante.                                                                                                            
                                                                                                                        
 O <b>path ou caminho</b> de um arquivo refere-se a sua localização dada em termos de                                   
 drive e diretório, por exemplo, c:\darkbasic\foto.bmp, demos aqui o caminho                                            
 completo do arquivo foto.bmp.                                                                                          
                                                                                                                        
 <u><b> PastaAtual$ = GET DIR$()</u></b>                                                                                
 Esta função retorna o nome do diretório corrente.                                                                      
 Exemplo: <font color="darkgreen">                                                                                      
 cls                                                                                                                    
 sPasta$ = get dir$()                                                                                                   
 print sPasta$   </font>                                                                                                
                                                                                                                        
 <u><b>DiretorioWindows$ = WINDIR$()</u></b>                                                                            
 Esta função retorna o caminho da pasta aonde o sistema WINDOWS está instalado.                                         
 Geralmente a saída desta função é C:\WINDOWS. Note que vem a informação do                                             
 driver (c:\), que serve de ótima referência para você instalar o seu jogo                                              
 ou programa.                                                                                                           
                                                                                                                        
 <u><b>PERFORM CHECKLIST FOR FILES</u></b>                                                                              
 Este comando preenche uma lista com os nomes dos arquivos do diretório                                                 
 corrente                                                                                                               
                                                                                                                        
 A quantidade de arquivos é obtida usando a função <b>checklist quantity().</b>                                         
                                                                                                                        
 O acesso a cada nome na lista é obtida usando a função <b>checklist string$(ndx)</b>,                                  
 sendo <b>ndx</b> uma variável inteira que representa o número ou índice do arquivo                                     
 dessa lista de arquivos.                                                                                               
                                                                                                                        
 Exemplo:                                                                                                               
<font color="darkblue"><div style="background-color:lightyellow">                                                       
cls                                                                                                                     
                                                                                                                        
perform checklist for files                                                                                             
                                                                                                                        
nqtd = checklist quantity()                                                                                             
                                                                                                                        
for cx = 1 to nqtd                                                                                                      
                                                                                                                        
nome$ = checklist string$(cx)                                                                                           
print nome$                                                                                                             
next cx                                                                                                                 
                                                                                                                        
suspend for key                                                                                                         
</div></font>                                                                                                           
                                                                                                                        
 <u><b>CD sPasta$</u></b>                                                                                               
 O comando <b>CD</b> define o diretório dado como sendo o diretório corrente,                                           
 qualquer procura ou manipulação de arquivos será realizada neste diretório.                                            
 CD é uma abreviação para CHANGE DIRECTORY, isto é, 'troque o diretório'.                                               
 Exemplo: <font color = "darkgreen">cd "c:\fotos" </font>                                                               
                                                                                                                        
 <u><b>nBool = FILE EXIST(Arquivo$)</u></b>                                                                             
 Este comando verifica a existência de um arquivo, retornando o valor 1 em caso                                         
 positivo. Você deve usá-la para confirmar a existência do arquivo antes de                                             
 manipulá-lo.                                                                                                           
                                                                                                                        
 <u><b>SET DIR Path$</u></b>                                                                                            
 Este comando estabelece o diretório corrente. Todos os comandos vão procurar                                           
 os arquivos nesse diretório de trabalho estabelecido.                                                                  
 Exemplo: <font color = "darkgreen">set dir "c:\dbCurso"</font>                                                         
                                                                                                                        
 <u><b>DELETE FILE Arquivo$</u></b>                                                                                     
 Este comando deleta um arquivo do diretório corrente.                                                                  
                                                                                                                        
 <u><b>RENAME FILE Arquivo$,NovoNome$</u></b>                                                                           
 Este comando renomeia o arquivo.                                                                                       
 Exemplo: <font color = "darkgreen">rename file "teste.txt","programar.txt"</font>                                      
                                                                                                                        
 <u><b>COPY FILE Arquivo$,Destino$</u></b>                                                                              
 Este comando copia um arquivo de um lugar para outro. Este comando pode ser                                            
 usado também para renomeiar o arquivo que está sendo copiado.                                                          
 Exemplo: <font color = "darkgreen">copy file "teste.txt","c:\programar.txt"</font>                                     
                                                                                                                        
 <u><b>MOVE FILE Arquivo$,Destino$</u></b>                                                                              
 Este comando copia um arquivo de um lugar para outro, apagando o arquivo do lugar                                      
 original. Este comando pode ser usado também para renomeiar o arquivo que está sendo                                   
 copiado. Exemplo: <font color = "darkgreen">move file "programar.txt","c:\teste.txt"</font>                            
                                                                                                                        
 <u><b>MAKE DIRECTORY Pasta$</u></b>                                                                                    
 Este comando cria um diretório no diretório corrente ou no caminho dado.                                               
 Exemplo: <font color = "darkgreen">                                                                                    
 make directory "teste"                                                                                                 
 make directory "c:\teste"</font>                                                                                       
                                                                                                                        
 <u><b>DELETE DIRECTORY Pasta$</u></b>                                                                                  
 Este comando deleta um diretório no diretório corrente ou no caminho dado.                                             
 *** Esta função não funcionou em nossos testes! ***                                                                    
 Exemplo: <font color = "darkgreen">                                                                                    
 delete directory "teste"                                                                                               
 delete directory "c:\teste"</font>                                                                                     
                                                                                                                        
 <u><b>nBool = PATH EXIST(Arquivo$)</u></b>                                                                             
 Este comando verifica a existência de um diretório, retornando o valor 1 em                                            
 caso positivo. Você deve usá-la para confirmar a existência do diretório antes                                         
 de manipulá-lo                                                                                                         
                                                                                                                        
 <b><u>nTamanho = FILE SIZE(Arquivo$)</b></u>                                                                           
 Esta função retorna o tamanho do arquivo especificado.                                                                 
 Exemplo: <font color = "darkgreen">                                                                                    
 myfile$ = "c:\dbCurso\textura.bmp"                                                                                     
 nsize = file size(myfile$)</font>                                                                                      
                                                                                                                        
 <b><u>Escaneando arquivos no diretório corrente</b></u>                                                                
 <b>FIND FIRST</b>      Este comando dá início ao processo de pesquisar o diretório para                                
                obter o nome de todos os arquivos e subdiretórios presentes. O                                          
                primeiro item geralmente é uma referência que o diretório faz                                           
                a si mesmo com o sinal "."; se o diretório pesquisado estiver                                           
                dentro de outro, o segundo item retornado é <b>".."</b>.                                                
                                                                                                                        
 <b>FIND NEXT</b>       Este comando localiza a próxima ocorrência de arquivo ou                                        
                subdiretório no diretório corrente.                                                                     
                                                                                                                        
 <b>Arquivo$ = GET FILE NAME$()</b>                                                                                     
 Esta função retorna o nome do arquivo ou diretório localizado pelos comandos                                           
 FIND FIRST ou FIND NEXT.                                                                                               
                                                                                                                        
 <b>Data$ = GET FILE DATE$()</b>                                                                                        
 Esta função retorna a data e hora do arquivo ou diretório localizado pelos comandos                                    
 FIND FIRST ou FIND NEXT no seguinte formato: "Sun Mar 01 14:10:59 2004".                                               
                                                                                                                        
 <b>nTipo = GET FILE TYPE()</b>                                                                                         
 Esta função retorna o tipo do item localizado pelos comandos FIND FIRST ou FIND NEXT;                                  
 o valor 0 indica que trata-se de um arquivo, o valor 1 indica que trata-se de um                                       
 diretório.                                                                                                             
                                                                                                                        
 Veja nosso programa exemplo:<font color="darkblue"><div style="background-color:lightyellow">                          
cls                                                                                                                     
print                                                                                                                   
find first                                                                                                              
print get file name$()                                                                                                  
find next                                                                                                               
print get file name$()                                                                                                  
find next                                                                                                               
                                                                                                                        
fname$ = get file name$()                                                                                               
print fname$                                                                                                            
print get file type()                                                                                                   
print get file date$()                                                                                                  
                                                                                                                        
suspend for key</div></font>                                                                                            
                                                                                                                        
<hr>                                                                                                                    

<table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%>
<tr><td><a href=dbpro.html style='color:blue'> index </a></td><td><a href='track08.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track10.html'style='color:blue'>&gt;&gt;</a></td></tr></table>
<hr><div style='background-color:lightyellow;color:blue'>
<center>Produzido por Gameprog: Jair Pereira - Fev/2006 - Setembro/2013 ©
gameprog.br@gmail.com
<a href='http://www.gameprog.com.br'>http://www.gameprog.com.br</a>
<a href='http://www.nucleoararat.com.br'>http://www.nucleoararat.com.br</a></center><hr></div></body></html>
