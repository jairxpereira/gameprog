<html><head>
<title>CVip_track10</title>
<style type="text/css">
.dica {	width:500pt; background:aliceblue;color:#700080}
span {
font-family: 'Courier New';
font-size: 10pt;
color: #000000;
}
.sc0 {
}


.sc1 {
color: darkgreen;
font-weight: bold;
}

.sntx {
color: darkgreen;
}


.sc2 {
color: #008000;
}
.sc4 {
color: #ff8000;
}
.sc5 {
font-weight: bold;
color: #0000FF;
}
.sc6 {
color: #FF0000;
}
.sc9 {
color: #804000;
font-weight: bold;
}
.sc10 {
font-weight: bold;
color: #000080;
}
.sc11 {
}
.sc16 {
color: #400080;
}

.prg {
color: #0000FF;
}

.prg-saida {

margin-left:0px;
width:500pt;
background-color:lightblue;

}

.prg-code {
margin-left:0px;
width:500pt;
background-color:lightyellow;
padding:10px;
font-weight:bold;
}


.niceview {
margin-left:0px;
width:500pt;
background-color:white;
border-color:lightgray;
border-width:1px;
border-style:solid;
padding:10px;
}

td
{
padding:3px;
}

table.dados
{

margin-left:0px;
width:53.5em;
border-collapse:collapse;
border:1px solid red;
text-align:center;
}

th
{
background-color:darkgreen;
color:yellow;
font-weight:bold;
text-transform:uppercase;
}
body
{
margin-left:60px;
}
.pagebody
{
margin-left:50px;
border-width:1px;
border-style:solid;
border-color:white;
background-color:white;
width:90%;
-webkit-border-radius: 40px 40px 40px 40px;
-moz-border-radius: 40px 40px 40px 40px;
border-radius: 15px 15px 15px 15px;
}
.mybody
{
margin-top:20pt;
margin-bottom:20pt;
margin-left:20pt;
margin-right:20pt;
/* border-width:1px; */
/* border-style:solid; */
border-color:lightgray;
background-image:url('backdrop.jpg');
}
</style>
</head>
<body class=mybody><font color="black">
<div class=pagebody>
<hr>
<center><b style="font-size:1.5em;" >Curso completo de linguagem C</b><br>
Gameprog - Escola de programação de jogos digitais<br>
Contato: gameprog.br@gmail.com<br>
<b>track10.html</b></center>
<hr>
<table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%><tr>
<td><a href=cvip.html style='color:blue'> index </a></td><td><a href='track09.html'style='color:blue'>&lt;&lt;</a></td>
<td><a href='track11.html'style='color:blue'>&gt;&gt;</a></td></tr></table>
<hr><pre>
<a name="track10"></a><h3 style="background-color:#80ff80">10. Arrays de dados e strings</h3>
<b style="background-color:lightgreen">10.1 Arrays - Visão geral</b>
Uma array de dados consiste  numa  série  de  dados  do  mesmo  tipo.
Geralmente  representa-se fisicamente uma array como sendo uma tabela
de linhas e colunas. As arrays de dados são também  conhecidas  pelas
denominações de matrizes ou vetores.

<u>Array unidimensional</u>
Vamos  supor  que  você  necessite  de  12  variáveis  inteiras  para
registrar o valor de vendas de cada mês; a declaração desta  array  é
feita assim:
<b style="color:green">
tipo vNome[NroElementos];</b><font color="darkblue">
int nVendas[12];</font>

<b class=sc1>Tipo</b>............. é o tipo de dado da array
<b class=sc1>vNome</b>............ é o nome da variável array, e
<b class=sc1>NroElementos</b>..... é o número de elementos da array.

Então, aqui criamos na verdade uma sequência de 12 variáveis inteiras
que podem ser  acessadas  individualmente  como  uma  variável  comum
usando o nome da variável array com o índice  de  ordem  do  elemento
entre colchetes.

O índice do primeiro elemento é zero [0], o último elemento  então  é
referenciado por [n-1], tendo n como o número máximo de elementos  da
array.  Estes são os detalhes mais importantes que você deve  ter  em 
mente ao lidar com arrays para evitar bugs no seu programa.

Continuando com o nosso exemplo, para fixar o  valor  das  vendas  de
janeiro, você usa:

<b class=prg>nValor[0] = 5000; /* Define valor de vendas de janeiro */</b>

E  para  fixar  o  valor  de  dezembro  a  sintaxe  é:

<b class=prg>nValor[11] = 9000; /* Define valor de vendas de janeiro */</b>

<u>Inicialização de arrays na declaração</u>
Você  pode  declarar   e   inicializar   uma   array   desta   forma:
<b class=prg>int nVendas[12] = {5000,1,2,3,4,5,6,7,8,9,10,11,9000};</b>

ou desta forma, com o compilador fazendo a  contagem  dos  elementos:
<b class=prg>int nVendas[] = {5000,1,2,3,4,5,6,7,8,9,10,11,9000};</b>


<b style="background-color:lightgreen">10.2 Arrays multidimensionais</b>

Vamos supor que você precise de uma array de  números  inteiros  para
guardar 5 coordenadas de  tela  ou  cartesianas  na  forma  (x,y),  a
declaração desta array é feita desta maneira:
<b style="color:green">
tipo vArray[nLinhas][nColunas];</b><font color="darkblue">
int nPonto[5][2];</font>

Este tipo de array é conhecida como  array  bidimensional,  pois  ela
traz duas dimensões representadas cada uma por um par  de  colchetes.
A primeira dimensão é a dimensão das linhas [5], a segunda dimensão é
a das colunas [2].

O primeiro ponto é acessado como  nPonto[0][0] = nValor;   o  segundo
ponto  como  nPonto[0][1],   e  o  último  ponto  como  nPonto[4][1].

Você pode declarar quantas dimensões precisar,   bastando  para  isso
adicionar um par extra de colchetes com o número  de  elementos  para
cada dimensão. Assim, na  criação  de  uma  array  tridimensional,  a
forma  é  semelhante  a  esta:  <b class=prg>int Array3d[10][5][2];  </b>
Porém, estas arrays  multidimensionais  desta  forma  são  quase  que
desnecessárias uma vez que a vasta maioria  dos  problemas  pode  ser
resolvida com arrays bidimensionais.

Mesmo para guardar coordenadas cartesianas  3D  você  pode  usar  uma
array bidimensional desta forma:
<div class=prg-saida>
 <img src=images\ponto3d.png>
<br></div>
<div class=prg-code>
<span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc4">5</span><span class="sc10">][</span><span class="sc4">3</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc4">3</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc4">5</span><span class="sc10">,</span><span class="sc4">6</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">7</span><span class="sc10">,</span><span class="sc4">8</span><span class="sc10">,</span><span class="sc4">9</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">10</span><span class="sc10">,</span><span class="sc4">11</span><span class="sc10">,</span><span class="sc4">12</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">13</span><span class="sc10">,</span><span class="sc4">14</span><span class="sc10">,</span><span class="sc4">15</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">};</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc11">initSys</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ncx</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">++)</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" Ponto3d %i: (%i,%i,%i) \n"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">,</span><span class="sc0">
</span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">][</span><span class="sc4">0</span><span class="sc10">],</span><span class="sc0">
</span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">][</span><span class="sc4">1</span><span class="sc10">],</span><span class="sc0">
</span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">][</span><span class="sc4">2</span><span class="sc10">]);</span>
</div>


<b style="background-color:lightgreen">10.3 Strings</b>

A linguagem C não possui pré-definido  o  tipo  <b>string</b>  como  acontece
com o int, o float e o char.

O que chamamos de <b>string</b> é na verdade  uma  array,  uma  sequência  de
bytes do tipo <b>char.</b>

O procedimento  normal  na  declaração  de  uma  string  consiste  na
declaração de uma array do tipo char tendo como número de elementos o
tamanho da string mais um char a mais para o  byte 0  que  sinaliza o
final da string. Por exemplo:
<span class=prg>char sNome[5] = "Bill\0";</span>
Repare que a inserção do byte zero na string é feita com <b>\0</b>  no final
da string.

No capítulo 2, sobre Tipos de Dados, você viu que uma string pode ser
facilmente declarada assim <font color="darkblue">sNome[] = "Bill";</font>O que acontece aqui é que
o compilador se encarrega de contar o número de bytes da string  e de
colocar o byte zero no final da mesma.

A fim de reservar memória para processos  posteriores  tal  como  ler
dados de arquivos ou capturar dados do teclado,  você  pode  declarar
strings com este propósito: <span class=prg>char sBuffer[512];</span>  Aqui  reservamos  512
bytes que poderão ser preenchidos posteriormente.


<b style="background-color:lightgreen">10.4 Inicializando arrays na declaração</b>

Você também pode inicializar as arrays  durante  a  declaração.  Para
isto você delimita os elementos pelas chaves, separando-os  usando  a
vírgula. Veja os exemplos:<span class=prg>

float nFloats [6] = { 1.3, 4.5, 2.7, 4.1, 0.0, 100.1 };
int nMatriz [3][4] = { 1, 2, 3, 4, <u>5, 6, 7, 8</u>, 9, 10, 11, 12 };
char sNome [10] = { 'J', 'o', 'a', 'o', '\0' };
char sNome [10] = "Joao";
char sClientes[3][10] = { "Joao", "Maria", "Jose" };</span>

Veja a representação gráfica da array nMatriz[3][4]:
<table class=dados border=1>
<tr><td>1<sub>[0,0]</sub></td><td>2<sub>[0,1]</sub></td><td>3<sub>[0,2]</sub></td><td>4<sub>[0,3]</sub></td></tr
>
<tr><td>5<sub>[1,0]</sub></td><td>6<sub>[1,1]</sub></td><td>7<sub>[1,2]</sub></td><td>8<sub>[1,3]</sub></td></tr
>
<tr><td>10<sub>[2,0]</sub></td><td>11<sub>[2,1]</sub></td><td>12<sub>[2,2]</sub></td><td>13<sub>[2,3]</sub></td>
</tr></table>

<b style="background-color:lightgreen">10.5 Acessando bytes individuais de strings</b>

Como vimos, uma string nada mais é do quê uma  array  do  tipo  char.
Disto resulta que podemos acessar individualmente cada byte da string
como fazemos com qualquer elemento de uma array de outro tipo de dado.
<div class=prg-code><font color=darkblue>
char sNome[5] = "Bill\0";
int ncx;
for (ncx = 0; sNome[ncx]; ncx++) printf("%c: ",sNome[ncx]);</div></font>
<div class=prg-saida>
B i l l</div>
Há um detalhe do código acima que merece um comentário,  no  lugar de
uma expressão lógica ali no <span class = 'prg'>for</span> nós colocamos simplesmente <span class = 'prg'>sNome[ncx];</span>
o laço  é  executado  até que o byte zero, que representa falso, seja
encontrado.

<b style="background-color:lightgreen">10.6 Arrays de strings</b>

Você pode usar uma array bidimensional do tipo <span class = 'prg'>char</span>  para estocar uma
série  de  strings.   A  sintaxe  fica  desta  maneira:
<b style="color:green">
char sVar[nStrings][nTamanho];</b>

nStrings......... quantidade ou número de strings da array
nTamanho......... tamanho máximo de cada string
<font color="darkblue">
char sMensagens[5][80];
char sClientes[3][10] = { "Joao", "Maria", "Jose" };</font>

Para acessar cada string desta array você apenas  menciona  o  indíce
da  linha  ou  número  da  string:
<font color="darkblue">
printf("%s",sClientes[1]);</font> resulta em "Maria"
<hr>
Veja o programa exemplo que  sumariza  o  que  falamos  sobre  array:
<div class=prg-saida>
<img src=images\testArray.png>
<br></div>

<div class=prg-code>
<span class="sc1">/* testArray.c - track10 */</span><span class="sc0">
</span><span class="sc1">/* Ilustra o uso arrays  */</span><span class="sc0">
</span><span class="sc9">#include "stdio.h"
#include "stdlib.h"
</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initSys</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">waitSys</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">nFloats</span><span class="sc0"> </span><span class="sc10">[</span><span class="sc4">6</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc4">1.3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4.5</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2.7</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4.1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0.0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">3.1415</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nMatriz</span><span class="sc0"> </span><span class="sc10">[</span><span class="sc4">3</span><span class="sc10">][</span><span class="sc4">4</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">7</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">9</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">10</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">11</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">12</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sNome</span><span class="sc0"> </span><span class="sc10">[</span><span class="sc4">10</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc7">'J'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'o'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'a'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'o'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'\0'</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sxNome</span><span class="sc0"> </span><span class="sc10">[</span><span class="sc4">10</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"Joao"</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sClientes</span><span class="sc10">[</span><span class="sc4">3</span><span class="sc10">][</span><span class="sc4">10</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc6">"Joao"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"Maria"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"Jose"</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">,</span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc4">5</span><span class="sc10">][</span><span class="sc4">3</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc4">3</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc4">5</span><span class="sc10">,</span><span class="sc4">6</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">7</span><span class="sc10">,</span><span class="sc4">8</span><span class="sc10">,</span><span class="sc4">9</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">10</span><span class="sc10">,</span><span class="sc4">11</span><span class="sc10">,</span><span class="sc4">12</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc4">13</span><span class="sc10">,</span><span class="sc4">14</span><span class="sc10">,</span><span class="sc4">15</span><span class="sc10">},</span><span class="sc0">
        </span><span class="sc10">};</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc11">initSys</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc1">/* Imprime nPonto3d[5][3] */</span><span class="sc0">
</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ncx</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">++)</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" Ponto3d %i: (%i,%i,%i) \n"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">,</span><span class="sc0">
</span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">][</span><span class="sc4">0</span><span class="sc10">],</span><span class="sc0">
</span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">][</span><span class="sc4">1</span><span class="sc10">],</span><span class="sc0">
</span><span class="sc11">nPonto3d</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">][</span><span class="sc4">2</span><span class="sc10">]);</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n"</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ncx</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">sNome</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">];</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">++)</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %c.%d "</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sNome</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc11">sNome</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">]);</span><span class="sc0">

</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n %s %s \n"</span><span class="sc10">,</span><span class="sc11">sNome</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sxNome</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc1">/* Imprime  sClientes[3][10] */</span><span class="sc0">
</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ncx</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">++)</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %s"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sClientes</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">]);</span><span class="sc0">

</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n\n"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ncx</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc10">++)</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %f"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nFloats</span><span class="sc10">[</span><span class="sc11">ncx</span><span class="sc10">]);</span><span class="sc0">

</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n"</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc1">/* Imprime nMatriz[3][4] */</span><span class="sc0">
</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">++)</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">j</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">++)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %i "</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nMatriz</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">][</span><span class="sc11">j</span><span class="sc10">]);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n"</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc10">}</span><span class="sc0">


</span><span class="sc11">waitSys</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc5">return</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc1">/* ************** initSys() */</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initSys</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
 </span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"title testArray.c"</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"color f1"</span><span class="sc10">);</span><span class="sc0">
 </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n\n"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc1">/* ************** waitSys() */</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">waitSys</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n\n"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"pause"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0"></span></div>
<hr>
<b style="background-color:lightgreen">10.7 Manipulando strings</b>

A manipulação de strings não ocorre de maneira  natural  e  intuitiva
como acontece noutras  linguagens  tal  como  java  ou  visual basic.

Você pode inicializar facilmente as strings  no  início  do  programa
como foi exposto nos tópicos anteriores.  Mas  durante o decorrer  do
programa ou durante a execução você só consegue inicializar os  dados
de uma string declarada através de funções que manipulam strings.

É ilegal as sintaxes: <b style="color:red">
1)	sNome = "Maria";
	sNome = sInfo;</b>

A comparação de strings dentro de um if  também não pode ser feito do
jeito  como  se  procede  com  números:
<b style="color:red">
2) 	if (sNome == sUser)</b> não é válido.

Na substituição destes processos você vai usar funções de manipulação
de  strings  contidas  no  arquivo  de  cabeçalho  <b>string.h</b>

Na primeira sintaxe você precisa usar uma função  que realiza a cópia
de uma string para outra string,  você pode usar  a  função <b>strcpy();</b>
na segunda sintaxe você  precisa  de  uma  função  que  compare  duas
strings tal  como  <b>strcmp()</b>.  Veja abaixo a sintaxe e exemplos de uso
destas duas funções:

<b>strcpy()</b>
Esta  função  copia  a  string  destino  para  a  string  fonte.
<b style="color:green">
char *strcpy(char *dest, const char *src);
strcpy(sDestino, sFonte);</b>
<font color="darkblue">
Ex.:
char sFonte[]="Seja perseverante!";
char sDestino[40];
strcpy (sDestino,sFonte);
printf("sDestino: %s\n",sDestino);</font>

Detalhes:   Esta  função  retorna  sDestino.

<div class=niceview>
Então,   para  fixar  o  processo,   ao  invés  disso:
<b style="color:red">1) sNome = "Maria"; sNome = sInfo</b>,

use  respectivamente:
<font color="darkblue">strcpy (sNome,"Maria"); strcpy (sNome,sInfo);</font>

Internamente o processo de cópia de strings  é  feito  elemento  por
elemento,   na  base  de  <b class=prg>sDestino[ncx] = sFonte[ncx];</b>
<br></div>

<b>strcmp()</b>
Esta função compara duas strings, retornando zero se elas são iguais.
<b style="color:green">
int strcmp(const char *s1, const char *s2)
nSts = strcmp(sStr_x, sStr_y);</b>
<font color="darkblue">
Ex.:
char sStr_x[]="pato";
char sStr_y[]="pato";
if (!strcmp(sStr_x,sStr_y)) printf("Estas strings são iguais.");</font>

Resulta   em:   "Estas strings são iguais."

Repare que como esta função retorna zero, usamos  o  operador  !  NOT
para inverter para verdadeiro. A função retorna  zero  porque  o  que
ocorre internamente é uma subtração de strings.  Esta função  é  <b>case
sensitive</b> causando <u>"pato" ser diferente de "Pato"</u>, quando você quiser
desconsiderar  o  'case sensitive'  use  a  função  <b class=prg>strcmpi().</b>

<div class=niceview>
Então  para  fixar  o  processo,   ao  invés  disso
<b style="color:red">2) if (sNome == sUser)</b>
use  isto  aqui:
<font color="darkblue">if (!strcmp(sNome,sUser)) DoSomething();</font>
<br></div>

Para  fechar  este  capítulo  veja  nosso  programa  exemplo:
<div class=prg-saida>
 <img src=images\strings.png>
</div>
<div class=prg-code>
<span class=sc1>/* strings.c - track 10 */
/* Manipulação de strings */</span>
<span class="sc9">#include "stdio.h"
#include "stdlib.h"
#include "string.h"
</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initSys</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">espera</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">void</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sStr_x</span><span class="sc10">[]=</span><span class="sc6">"mouse"</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sStr_y</span><span class="sc10">[]=</span><span class="sc6">"rato"</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sStr_z</span><span class="sc10">[]=</span><span class="sc6">"mouse"</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sStr_u</span><span class="sc10">[]=</span><span class="sc6">"MOUSE"</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sFonte</span><span class="sc10">[]=</span><span class="sc6">"Seja perseverante!"</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">sDestino</span><span class="sc10">[</span><span class="sc4">40</span><span class="sc10">];</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nSts</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc11">initSys</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc2">// nSts = (mouse == rato)
</span><span class="sc11">nSts</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">strcmp</span><span class="sc10">(</span><span class="sc11">sStr_x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sStr_y</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %s \t%d \t%s \n\n"</span><span class="sc10">,</span><span class="sc11">sStr_x</span><span class="sc10">,</span><span class="sc11">nSts</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sStr_y</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc2">// nSts = (mouse == mouse)
</span><span class="sc11">nSts</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">strcmp</span><span class="sc10">(</span><span class="sc11">sStr_x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sStr_z</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %s \t%d \t%s \n"</span><span class="sc10">,</span><span class="sc11">sStr_x</span><span class="sc10">,</span><span class="sc11">nSts</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sStr_z</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">nSts</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">puts</span><span class="sc10">(</span><span class="sc6">" As string sao iguais!\n"</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc2">// nSts = (mouse == MOUSE)
</span><span class="sc11">nSts</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">strcmp</span><span class="sc10">(</span><span class="sc11">sStr_x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sStr_u</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">" %s \t%d \t%s \n"</span><span class="sc10">,</span><span class="sc11">sStr_x</span><span class="sc10">,</span><span class="sc11">nSts</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">sStr_u</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc2">// sDestino = sFonte
</span><span class="sc11">strcpy</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">sDestino</span><span class="sc10">,</span><span class="sc11">sFonte</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n sDestino: %s\n"</span><span class="sc10">,</span><span class="sc11">sDestino</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc11">espera</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc1">/* ************** initSys() */</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initSys</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
</span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"title strings.c"</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"color f1"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n\n"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc1">/* ************** waitSys() */</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">espera</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
</span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"\n\n"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"pause"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0"></span></div>
<hr>
<table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%><tr><td><a href=cvip.html style='color:blue'> index </a></td><td><a href='track09.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track11.html'style='color:blue'>&gt;&gt;</a></td></tr></table><hr><div style='background-color:lightyellow;color:blue'>
<center>Produzido por Gameprog: Jair Pereira - Fev/2006 - Junho/2013 ©
gameprog.br@gmail.com
<a href='http://www.gameprog.com.br'>http://www.gameprog.com.br</a></center><hr></div></div></body></html>
