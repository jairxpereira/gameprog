<html><head>
<title>darkbasicPro_track24</title>
<style type="text/css">

span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}


.sc1 {
	color: darkgreen;
	font-weight: bold;
}


.sc2 {
	color: #008000;
}
.sc4 {
	color: #ff8000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #FF0000;
}
.sc9 {
	color: #804000;
	font-weight: bold;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #400080;
}

.prg {
	color: #0000FF;
}

.prg-saida {

	margin-left:50px;
	width:500pt;
	background-color:lightblue;
}

.prg-code {
	margin-left:50px;
	width:500pt;
	background-color:lightyellow;
}


.niceview {
	margin-left:50px;
	width:500pt;
	background-color:white;
	border-color:lightgray;
	border-width:1px;
	border-style:solid;
}

td
{
padding:3px;
}

table.dados
{

margin-left:50px;
width:45.0em;
border-collapse:collapse;
border:1px solid red;
text-align:center;


}

th
{
background-color:darkgreen;
color:yellow;
font-weight:bold;
text-transform:uppercase;
}
body
{
margin-left:60px;
}


</style></head>
<body><font color="black"><pre>
<hr>
<center><b>GAMEPROG - Escola de programação de jogos digitais</b><br><b>Contato: Jair Pereira - gameprog.br@gmail.com</b><br><b>Curso completo de Darkbasic Pro Versão 1.069</b><br><b>track24.html</b><br></center><table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%>
<tr><td><a href=dbpro.html style='color:blue'> index </a></td><td><a href='track23.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track25.html'style='color:blue'>&gt;&gt;</a></td></tr></table>

<a name="track24"></a>                                                                                                  
<h3 style="background-color:#80ff80">24. Arrays</h3>                                                                    
 Uma array é uma coleção de dados do mesmo tipo. Geralmente representa-se                                               
 a array graficamente como sendo uma tabela de linhas e colunas. O uso                                                  
 da array apresenta muitas vantagens, a primeira delas consiste no acesso                                               
 a um bloco de dados usando uma só variável como referência.                                                            
                                                                                                                        
 Vamos supor que você precise processar o valor das vendas de cada mês,                                                 
 você declara essa array da seguinte maneira:                                                                           
                                                                                                                        
 <b><u>DIM vVar(nDimensão)</b></u>                                                                                      
 <b>DIM vendas(12)</b>                                                                                                  
                                                                                                                        
 Isso cria uma tabela de dados que você preenche e acessa da seguinte forma:                                            
                                                                                                                        
 vendas(1) = 100                                                                                                        
 vendas(2) = 500                                                                                                        
 ...                                                                                                                    
 vendas(ndx) = 2600                                                                                                     
 vendas(12) = 1500                                                                                                      
                                                                                                                        
 Com muita frequência você vai utilizar um laço FOR...NEXT para preencher                                               
 ou processar os dados de uma array. Em nossos testes <b>dim vendas(12)</b> acabou                                      
 criando 13 elementos pois foi possível utilizar o elemento <b>vendas(0)</b>.                                           
                                                                                                                        
 Este tipo de array que nós criamos é denominada array <b>unidimensional</b>, pois                                      
 apresenta apenas uma coluna de dados. Uma array com duas colunas de dados                                              
 é chamada bidimensional, por exemplo, você pode usá-la para guardar as coordenadas                                     
 (x,y) de sprites. Noutro exemplo você vai utilizar uma array tridimensional                                            
 para guardar coordenadas 3D (x,y,z) de seus objetos. Uma array pode ter até                                            
 cinco dimensões. No próximo tópico você vai aprender a criar essas arrays                                              
 <b>multidimensionais.</b>                                                                                              
                                                                                                                        
 <u>Arrays multidimensionais</u>                                                                                        
 <b>DIM vVar(ntam, ntam,...ntam)</b>                                                                                    
 Uma array pode ter até cinco dimensões, você pode visualizar essas cinco                                               
 dimensões como sendo cinco colunas de uma tabela. Cada coluna ou dimensão                                              
 tem o número de elementos determinados pelo argumento <b>ntam.</b>                                                     
                                                                                                                        
 Veja o exemplo de uma array bidimensional:                                                                             
 <img src="array.jpg">                                                                                                  
 No nosso exemplo, com o código <b>DIM pos(5,2)</b> nós criamos uma array bidimensional                                 
 para guardar uma lista de 5 posições (x,y). A primeira dimensão representa as                                          
 linhas da tabela, a segunda dimensão representa as colunas. Os elementos são                                           
 assim manipulados:<b>                                                                                                  
                                                                                                                        
 pos(1,1) = 320         pos(1,2) = 240                                                                                  
 pos(5,1) = 160         pos(5,2) = 120</b>                                                                              
                                                                                                                        
 Os elementos de uma array devem ter o mesmo tipo de dados, uma tabela de                                               
 números pode conter apenas números e assim por diante.                                                                 
                                                                                                                        
 <b><u>DATA...READ...RESTORE</b></u>                                                                                    
 Estes comandos permitem a criação de uma tabela de dados de maneira mais                                               
 confortável.                                                                                                           
                                                                                                                        
 DATA nVal, nVal...,nVal                                                                                                
 READ vVar                                                                                                              
 RESTORE                                                                                                                
                                                                                                                        
 O comando DATA estabelece uma linha de dados. O dado é atribuido a uma variável                                        
 pelo comando READ. O comando RESTORE faz o comando READ apontar para o primeiro                                        
 dado oferecido pelo comando DATA. Qualquer tipo de dados pode seguir o comando                                         
 <b>DATA</b>, as strings precisam estar delimitadas entre aspas.                                                        
                                                                                                                        
 Ex.: <font color="darkgreen">                                                                                          
 posicionamento:                                                                                                        
 DATA 320,240                                                                                                           
 READ xcol              REM // xcol = 320                                                                               
 READ ylin              REM // ylin = 240                                                                               
 RESTORE                REM // READ aponta para 320 </font>                                                             
                                                                                                                        
 Um terceiro <b>READ</b> ocasiona um erro no programa, pois o ponteiro interno                                          
 de dados do sistema <b>DATA...READ</b> aponta para um dado inexistente. Você                                           
 precisa usar <b>RESTORE</b> para puxar a mesma tabela de dados para uma                                                
 outra variável ou para ressetar o ponteiro para o primeiro dado da tabela.                                             
                                                                                                                        
 Você pode identificar partes de seus dados com <b>um rótulo</b> tal como nós                                           
 fizemos em nosso pequeno exemplo. Veja no programa abaixo um exemplo com uma                                           
 array bidimensional:                                                                                                   
<font color="darkblue"><div style="background-color:lightyellow">                                                       
rem testando read...data...restore                                                                                      
cls: hide mouse                                                                                                         
                                                                                                                        
dim pos(5,2)                                                                                                            
data 320,240                                                                                                            
data 160,120                                                                                                            
data 80,60                                                                                                              
data 40,30                                                                                                              
data 20,15                                                                                                              
                                                                                                                        
for linha = 1 to 5                                                                                                      
  for coluna = 1 to 2                                                                                                   
  read pos(linha,coluna)                                                                                                
  next coluna                                                                                                           
next linha                                                                                                              
                                                                                                                        
for linha = 1 to 5                                                                                                      
print pos(linha,1),",",pos(linha,2)                                                                                     
next linha</div></font>                                                                                                 
                                                                                                                        
 <b><u>UNDIM vVar(ndx)</b></u>                                                                                          
 O comando UNDIM deleta uma array da memória, isso aumenta a quantidade de                                              
 recursos disponíveis.                                                                                                  
 A deleção da array deve corresponder com a declaração da array, por exemplo,                                           
 <b>UNDIM pos(5,2)</b> deleta uma array criada com DIM pos(5,2).                                                        
                                                                                                                        
 <b><u>SAVE ARRAY....LOAD ARRAY</b></u>                                                                                 
 Você pode salvar o conteúdo da array em um arquivo em disco e depois naturalmente                                      
 recuperar este conteúdo. Isto é útil para fazer o intercâmbio de dados entre                                           
 programas, ou para recuperar a configuração do seu programa entre muitas outras                                        
 utilidades.                                                                                                            
                                                                                                                        
 <u>SAVE ARRAY ArquivoNome$, vVar(0)</u>                                                                                
 Este comando salva uma array no arquivo ArquivoNome$, como segundo argumento                                           
 deve ser dado o primeiro elemento da array vVar(0).                                                                    
                                                                                                                        
 <u>LOAD ARRAY ArquivoNome$, vVar(0)</u>                                                                                
 Este comando carrega uma array de um arquivo ArquivoNome$, como segundo                                                
 argumento deve ser dado o primeiro elemento da array vVar(0). Deve haver uma                                           
 correspondência de tipo dados e de números de elementos entre a array salva e                                          
 a array carregada.                                                                                                     
                                                                                                                        
 Veja nosso programa que teste DATA...READ/DIM...UNDIM/LOAD...SAVE ARRAY                                                
<font color="darkblue"><div style="background-color:lightyellow">                                                       
cls                                                                                                                     
                                                                                                                        
data 320,240                                                                                                            
data 160,120                                                                                                            
data 80,60                                                                                                              
data 40,30                                                                                                              
data 20,15                                                                                                              
                                                                                                                        
dim pos(5,2)                                                                                                            
for cx = 1 to 5                                                                                                         
read pos(cx,1)                                                                                                          
read pos(cx,2)                                                                                                          
next cx                                                                                                                 
                                                                                                                        
save array "mypos.arr",pos(0)                                                                                           
undim pos(5,2)                                                                                                          
                                                                                                                        
dim lista(5,2)                                                                                                          
load array "mypos.arr",lista(0)                                                                                         
                                                                                                                        
for cx = 1 to 5                                                                                                         
print lista(cx,1),",",lista(cx,2)                                                                                       
next cx</div></font>                                                                                                    
                                                                                                                        
<hr>                                                                                                                    

<table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%>
<tr><td><a href=dbpro.html style='color:blue'> index </a></td><td><a href='track23.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track25.html'style='color:blue'>&gt;&gt;</a></td></tr></table>
<hr><div style='background-color:lightyellow;color:blue'>
<center>Produzido por Gameprog: Jair Pereira - Fev/2006 - Setembro/2013 ©
gameprog.br@gmail.com
<a href='http://www.gameprog.com.br'>http://www.gameprog.com.br</a>
<a href='http://www.nucleoararat.com.br'>http://www.nucleoararat.com.br</a></center><hr></div></body></html>
