<html><head>
<title>cbiblioteca_track02_conio</title>
<style type="text/css">

span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc2 {
	color: #008000;
}
.sc4 {
	color: #ff8000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #FF0000;
}
.sc9 {
	color: #804000;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #400080;
}

.prg {
	color: #0000FF;
}
</style></head>
<body><font color="black"><pre>
<hr>
<center><b>GAMEPROG - Escola de programação de jogos digitais</b><br><b>Contato: Jair Pereira - gameprog.br@gmail.com</b><br><b>Guia completo de referência da biblioteca padrão da Linguagem C [Borland Turbo C/++ ver 3.1]</b><br><b>track02.html</b><br></center><table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%><tr><td><a href=cbiblioteca.html style='color:blue'> index </a></td><td><a href='track01.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track03.html'style='color:blue'>&gt;&gt;</a></td></tr></table>
<hr>
<A NAME="#2.00"></A>
<center><h2>2.00 conio.h</h2></center>
<A HREF="#2.01">2.01</a> cgets.............Captura uma string de tamanho determinado
<A HREF="#2.02">2.02</a> clreol............Apaga da posição atual do cursor até o final da linha
<A HREF="#2.03">2.03</a> clrscr............Limpa a tela
<A HREF="#2.04">2.04</a> cprintf...........Imprime dados formatados na janela de texto
<A HREF="#2.05">2.05</a> cputs.............Escreve uma string no video em modo texto
<A HREF="#2.06">2.06</a> cscanf............Captura dados formatados do teclado.
<A HREF="#2.07">2.07</a> delline...........Deleta linha da posição do cursor
<A HREF="#2.08">2.08</a> getch.............Captura um char do teclado sem eco
<A HREF="#2.09">2.09</a> getche............Captura um char do teclado com eco
<A HREF="#2.10">2.10</a> getpass...........Captura um string de 8 bytes sem eco na tela
<A HREF="#2.11">2.11</a> gettext...........Copia uma região da tela de texto para a memória

<A HREF="#2.12">2.12</a> gettextinfo.......Obtém configuração da janela de texto
<A HREF="#2.13">2.13</a> gotoxy............Posiciona o cursor coluna e linha especificada.
<A HREF="#2.14">2.14</a> highvideo.........Configura modo de video texto em alta intensidade
<A HREF="#2.15">2.15</a> insline...........Adiciona uma linha em branco abaixo do cursor
<A HREF="#2.16">2.16</a> kbhit.............Verifica se tecla foi pressionada
<A HREF="#2.17">2.17</a> lowvideo..........Configura modo de video texto em baixa intensidade
<A HREF="#2.18">2.18</a> movetext..........Copia uma região de texto e cola noutra posição
<A HREF="#2.19">2.19</a> normvideo.........Restaura o status geral de vídeo antes da execução
<A HREF="#2.20">2.20</a> putch.............Esta função imprime um char na tela com atributo
<A HREF="#2.21">2.21</a> puttext...........Recoloca na tela uma região de texto capturado com gettext()
<A HREF="#2.22">2.22</a> textattr..........Altera atributo de texto cor de fundo/cor de frente

<A HREF="#2.23">2.23</a> textbackground....Altera a cor de fundo em modo texto.
<A HREF="#2.24">2.24</a> textcolor.........Altera a cor de frente em modo texto.
<A HREF="#2.25">2.25</a> textmode..........Troca de modo de vídeo de textos
<A HREF="#2.26">2.26</a> ungetch...........Empurra um char para o buffer de teclado

<A HREF="#2.27">2.27</a> wherex............Retorna a coluna de texto corrente.
<A HREF="#2.28">2.28</a> wherey............Retorna a linha de texto corrente.
<A HREF="#2.29">2.29</a> window............Determina novas coordenadas para janela de texto.
.......................................................................................
<A NAME="2.01"><b>2.01 cgets</b></A>
        Esta função captura uma string do teclado, com o cumprimento máximo
        determinado.
        <b style="color:green">
        *cgets( char *str);
        sString = cgets(sTring);</b>

        Ex.:    char sBuffer[80]={78};
                cgets(sBuffer);

        Detalhes:
        No primeiro byte de sua variável string, sBuffer[0], você
        deve configurar o tamanho máximo da string. Durante a
        captura, o cursor só avança até esta posição-1. No byte
        sBuffer[1] é retornado o número de caracteres efetivamente
        lidos.

        A string lida começa mesmo em sBuffer[2]. Na impressão dessa
        string você deve tratar os primeiros dois bytes para a
        devida exibição desta string.

.......................................................................................
<A NAME="2.02"><b>2.02 clreol</b></A>
        Esta função apaga desde a posição atual do cursor até
        o final da linha.
        <b style="color:green">
        void clreol(void);
        clreol();</b>

        Ex.: clreol();

.......................................................................................
<A NAME="2.03"><b>2.03 clrscr</b>
        Esta função limpa a tela.
        <b style="color:green">
        void clrscr(void);
        clrscr();</b>

        Ex.:    clrscr();

.......................................................................................
<A NAME="2.04"><b>2.04 cprintf</b></A>
        Esta função imprime dados formatados na janela de texto. Ela permite
        a exibição colorida de texto.
        <b style="color:green">
        int cprintf(const char *formats, ...);
        nBytes = cprintf("%formatos",variáveis);</b>

        Ex.:    textattr(0x1E);
                cprintf("Esteja sempre ocupado com coisa útil\n\r");

        Detalhes: O valor de retorno é o número de bytes impressos.
        Os argumentos de formatação são os mesmos da função printf().

.......................................................................................
<A NAME="2.05"><b>2.05 cputs</b></A>
        Esta função escreve uma string no video em modo texto. Ela permite
        a exibição de texto colorido.
        <b style="color:green">
        int cputs(const char *str);
        cLastChar = cputs(sString);</b>

        Ex.:    textattr(0x1F);
                cputs("You should learn English");

        detalhes: Esta função retorna o último byte impresso.

.......................................................................................
<A NAME="2.06"><b>2.06 cscanf</b></A>
        Esta função captura dados formatados do teclado.
        <b style="color:green">
        int cscanf( const char *formats,argument...);
        nFields = cscanf("%formatos",variáveis...);</b>

        Ex.: scanf("%d %s",&nIdade,sNome);

        Detalhes:
        Na captura de um só campo, assim que o espaço foi pressionado
        a função encerrou seus processos e a sobra de teclado foi
        capturada pela função seguinte de teclado que havia no prg.

        O valor de retorno é um inteiro que representa o número de
        campos lidos, processados, e estocados com sucesso.

        Cuidado, com a captura de longas strings. O chr(32) delimita
        dois dados.

.......................................................................................
<A NAME="2.07"><b>2.07 delline</b></A>
        Esta simples função deleta a linha da posição do cursor, e
        provoca um deslocamento para cima de todas as linhas abaixo.
        <b style="color:green">
        void delline(void);
        delline();</b>

        Ex.:    delline();

.......................................................................................
<A NAME="2.08"><b>2.08 getch</b></A>
        Esta função captura um char do teclado sem exibí-lo
        na tela.
        <b style="color:green">
        int getch(void);
        cChar = getch();</b>

        Ex.:    getch();

        O valor retornado é o carácter capturado.

.......................................................................................
<A NAME="2.09"><b>2.09 getche</b></A>
        Esta função captura um char do teclado com eco
        na tela.
        <b style="color:green">
        int getche(void);
        cChar = getche();</b>

        Ex.:    getch();

        O valor retornado é o carácter capturado.

.......................................................................................
<A NAME="2.10"><b>2.10 getpass</b></A>
        Esta curiosa função captura uma string de 8 caracteres do teclado
        sem ecoá-los na tela.
        <b style="color:green">
        char *getpass(const char *prompt);
        sSenha = getpass(cMsg);</b>

        Ex.:    char *sSenha;
                sSenha = getpass("Digite sua senha: ");

        Detalhes:
        Esta função exigiu que a variável string fosse declarada
        como um ponteiro do tipo char.

.......................................................................................
<A NAME="2.11"><b>2.11 gettext</b></A>
        Esta função copia uma região da tela de texto para a memória.
        <b style="color:green">
        int gettext( int left, int top, int right, int bottom, void *destin);
        nStatus = gettext(x,y,cx,cy,sBuffer);</b>

        x.........coluna inicial
        y.........linha inicial
        cx........coluna final
        cy........linha final
        sBuffer...Memória que deve ser reservada ou alocada antes

        Ex.:    char sBuffer[8000];
                gettext(20,13,20,40,sBuffer);

        Detalhes:
        A fórmula para o cálculo da área que deve ser reservada
        é esta: nMemória = nColunas * nLinhas * 2.
        O valor de retorno é non-zero para sucesso.

.......................................................................................
<A NAME="2.12"><b>2.12 gettextinfo</b></A>
        Esta função obtém a configuração do vídeo em modo texto. Esta
        configuração é retornada numa instância da estrutura text_info.
        <b style="color:green">
        void gettextinfo(struct text_info *r);
        gettext(&xInfoTxt);</b>

        Ex.:    struct text_info xInfoTxt;
                gettext(&xInfoTxt);

        Detalhes:
        É necessário declarar uma instância da estrutura text_info.
        Por sua vez esta intância deve ser passada por referência
        na chamada da função com & precedendo o nome da estrutura.

        Veja um programa exemplo:<font color="darkblue">
        #include "stdio.h"
        #include "conio.h"

        int main (int nCmd, char **sCmd) {

        /* gettextinfo() */

        struct text_info infotxt;

        gettextinfo(&infotxt);

        clrscr();

        printf("........WinLeft............ %u....\n",infotxt.winleft);
        printf("........WinTop............. %u....\n",infotxt.wintop);
        printf("........WinRight........... %u....\n",infotxt.winright);
        printf("........WinBottom.......... %u....\n",infotxt.winbottom);
        printf("........Attribute.......... %u... \n",infotxt.attribute);
        printf("........Normal Attribute:.. %u... \n",infotxt.normattr);
        printf("........Current Mode:.......%u... \n",infotxt.currmode);
        printf("........Screen Height:..... %u... \n",infotxt.screenheight);
        printf("........Screen Width:...... %u... \n",infotxt.screenwidth);
        printf("........Current x position: %u... \n",infotxt.curx);
        printf("........Current y position: %u... \n",infotxt.cury);

        /* Estrutura text_info, todas as vars são do tipo unsigned char:

        winleft, wintop, winright, winbottom
        attribute, normattr, currmode
        screenhight, screenwidth,curx,cury */

        getch(); }</font>

.......................................................................................
<A NAME="2.13"><b>2.13 gotoxy</b></A>
        Esta função posiciona o cursor na coluna e linha especificadas.
        <b style="color:green">
        void gotoxy( int x, int y);
        gotoxy(nColuna,nLinha);</b>

        Ex.: gotoxy(20,13);

.......................................................................................
<A NAME="2.14"><b>2.14 highvideo</b></A>
        Esta função configura o vídeo em alta intensidade, cor de frente preto e
        a cor de frente branco alta intensidade.
        <b style="color:green">
        void highvideo(void);
        highvideo();</b>

        Ex.:    highvideo();

.......................................................................................
<A NAME="2.15"><b>2.15 insline</b></A>
        Esta função adiciona uma linha em branco abaixo da posição corrente
        do cursor, provocando um deslocamento para baixo das linhas abaixo.
        <b style="color:green">
        void insline(void);
        insline();</b>

        Ex.:    insline();

.......................................................................................
<A NAME="2.16"><b>2.16 kbhit</b></A>
        Esta função verifica se uma tecla foi pressionada.
        <b style="color:green">
        int kbhit(void);
        kbhit();</b>

        Ex.: if (kbhit()!=0) printf("Teclado Pressionado.");

        Detalhes: O valor de retorno, em caso de teclado não pressionado
        é zero, retornando non-zero para o pressionamento. Esta função
        é semelhante a função inkey() do Clipper e do Qbasic.
        Para pegar a tecla pressionada use getch() em seguida.

        Veja mais este programa:<font color="darkblue">
        #include "stdio.h"
        #include "conio.h"

        int main (int nCmd, char **sCmd) {
        char cTecla=0;

        /* int kbhit(void) */

        clrscr();
        gotoxy(20,13);
        puts("Pressione ESC para sair.");

        for(;;) {

        if (!kbhit()) cTecla=getch();

        if (cTecla==27) exit(0);
        if (cTecla=='b') putchar(7);    }

        getch(); }</font>

.......................................................................................
<A NAME="2.17"><b>2.17 lowvideo</b></A>
        Esta função configura o vídeo em baixa intensidade,com a  cor de frente cinza
        e o fundo preto.
        <b style="color:green">
        void lowvideo (void);
        lowvideo();</b>

        Ex.:    lowvideo();

.......................................................................................
<A NAME="2.18"><b>2.18 movetext</b></A>
        Esta função copia uma região determinada de texto e a cola na
        posição destino. Seu uso substitui ao mesmo tempo gettext() e puttext().
        <b style="color:green">
        int movetext(int Left, int Top, int Right, int Bottom,
                                                 int DestLeft,int DestTop);
        movetext(nLeft, nTop, nRight, nBottom, nAlvoX,nAlvoY);</b>

        nLeft...... Coluna superior
        nTop....... Linha superior
        nRight..... Coluna Inferior
        nBottom.... Linha inferior
        nAlvoX..... Coluna alvo
        nAlvoY..... Linha alvo

        Ex.: movetext (1,1,20,10,11,21);

        Detalhes: O valor de retorno é non-zero para operação bem sucedida.

.......................................................................................
<A NAME="2.19"><b>2.19 normvideo</b></A>
        Esta função restaura as condições de vídeo que estavam presentes
        antes que o programa fosse executado.
        <b style="color:green">
        void normvideo(void);
        normvideo();</b>

        Ex.:    normvideo();

.......................................................................................
<A NAME="2.20"><b>2.20 putch</b></A>
        Esta função imprime um carácter na tela, usando atributo texto
        permitindo exibição colorida.
        <b style="color:green">
        int putch(int ch);
        nShowedChar = putch(cMyChar);</b>

        Detalhes: Esta função retorna o caracter exibido.

.......................................................................................
<A NAME="2.21"><b>2.21 puttext</b></A>
        Esta função recoloca na tela, na posição determinada, uma região de
        texto que foi capturado antes com gettext().
        <b style="color:green">
        int puttext( int left, int top, int right, int bottom, void *source);
        int puttext(x,y,cx,cy,sBuffer);</b>

        x.........coluna inicial
        y.........linha inicial
        cx........coluna final
        cy........linha final
        sBuffer...Memória aonde está o texto

        Detalhes: Em caso de sucesso, o valor de retorno é non-zero.

.......................................................................................
<A NAME="2.22"><b>2.22 textattr</b></A>
        Esta função altera o atributo de texto. Este atributo é um
        byte que representa a cor de frente e a cor fundo.
        <b style="color:green">
        void textattr(int newattr);
        textattr(nAttrib);</b>

        Ex.:    textattr(0x1F);
                cprintf("Testando textattr()\n\r");

        Detalhes:
        Os primeiros quatros bits,apelidados de MSB's, são a cor de
        fundo. Os últimos quatros bits, os LSB's, são a cor de frente.
        O representação hexadecimal facilita a configuração de
        atributo. Esta função substitui com vantagens textcolor() e
        textbackground() desde que você consegue configurar frente e fundo
        com uma só função. Use cprintf() e outras funções similares para
        obter o efeito colorido.

        Programa exemplo:<font color="darkblue">

        #include "stdio.h"
        #include "conio.h"

        int main (int nCmd, char **sCmd) {

        int nCor, nAttr;

        nCor = BLUE;
        nCor <<= 4;             /* Empurramos BLUE para os Msb's usando um ShiftLeft */
        nAttr = nCor + WHITE;

        clrscr();
        textattr(nAttr);
        cprintf("Testestando attr()\n\r");

        puts("End of Program."); }</font>

.......................................................................................
<A NAME="2.23"><b>2.23 textbackground</b></A>
        Esta função altera a cor de fundo em modo texto.
        <b style="color:green">
        void textbackground(int newcolor);
        textbackground(nCor);</b>

        Ex.:    textbackground(1);
                cprintf("Testando textbackground\n\r");

        Detalhes: O range das cores é de 0 a 15. Consulte a tabela de
        cores no help da Borland. Basicamente são os mesmos números
        de cores que você encontra no Clipper ou Qbasic. Você deve
        usar cprintf() e outras funções similares para obter o
        efeito colorido.

.......................................................................................
<A NAME="2.24"><b>2.24 textcolor</b></A>
        Esta função altera o cor de frente da tela em modo texto.
        <b style="color:green">
        void textcolor(int newcolor);
        textcolor(nCor);</b>

        Ex.:    textcolor(10);
                cprintf("Testando textcolor\n\r");

        Detalhes: O range das cores é de 0 a 15. Somando-se ao número da
        cor a constante BLINK,128, obtém-se o efeito piscante.
        Para obter o efeito colorido é necessário usar cprintf() ou outras
        funções similares.

.......................................................................................
<A NAME="2.25"><b>2.25 textmode</b></A>
        Esta função troca o modo de video dentro dos modos disponíveis
        para texto. Esta função não configura vídeo para modo gráfico.
        <b style="color:green">
        void textmode(int newmode);
        textmode(nTextVideo);</b>

        Detalhes: Veja os valores para nTextVideo no help da Borland

.......................................................................................
<A NAME="2.26"><b>2.26 ungetch</b></A>
        Esta função empurra um caracter para o buffer de teclado,
        deixando-o disponível para funções de captura de teclado.
        <b style="color:green">
        int ungetch(int ch);
        cChar = ungetch(cChar);</b>

        Ex.:    ungetch(27);
                cTecla = getch();

        Detalhes:
        Esta função é interessante para simular o pressionamento
        de teclado.Um ponto interessante é que ela faz com que
        a função getch() não suspenda o programa para capturar o char.

.......................................................................................
<A NAME="2.27"><b>2.27 wherex</b></A>
        Esta função retorna a coluna de texto corrente na qual o cursor
        está posicionado.
        <b style="color:green">
        int wherex(void);
        nCol = wherex();</b>

        Ex.: nCol = wherex();

.......................................................................................
<A NAME="2.28"><b>2.28 wherey</b></A>
        Esta função retorna a linha corrente de texto na qual
        o cursor está posicionado.
        <b style="color:green">
        int wherey(void);
        nLin = wherey();</b>

        Ex.: nLin = wherey();

.......................................................................................
<A NAME="2.29"><b>2.29 window</b></A>
        Esta função determina novas coordenadas para a janela de texto.
        <b style="color:green">
        void window(int Left, int Top, int Right, int Bottom);
        window (nLeft, nTop, nRight, nBottom);</b>

        Detalhes:
        Esta função redimensiona a janela de texto. A função
        cprintf() imprime nesta janela, enquanto printf() imprime
        na tela normalmente. Na janela de texto que foi definida,
        acontece a rolagem de tela quando imprime-se na última linha.


<table align=bottom border=0 cellspacing=0 cellpadding=0 width=20%><tr><td><a href=cbiblioteca.html style='color:blue'> index </a></td><td><a href='track01.html'style='color:blue'>&lt;&lt;</a></td><td><a href='track03.html'style='color:blue'>&gt;&gt;</a></td></tr></table><hr><div style='background-color:lightyellow;color:blue'>
<center>Produzido por Gameprog: Jair Pereira - Fev/2006 - Junho/2013 ©
gameprog.br@gmail.com
<a href='http://www.gameprog.com.br'>http://www.gameprog.com.br</a></center><hr></div></body></html>
