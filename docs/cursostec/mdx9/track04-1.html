<html>
<head>
<title>mdx9_fase04-1</title>
<head>
<style type="text/css">

span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}


.sc1 {
	color: darkgreen;
	font-weight: bold;
}

.sntx {
	color: darkgreen;
	}


.sc2 {
	color: #008000;
}
.sc4 {
	color: #ff8000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #FF0000;
}
.sc9 {
	color: #804000;
	font-weight: bold;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #400080;
}

.prg {
	color: #0000FF;
}

.prg-saida {

	margin-left:0px;
	width:500pt;
	background-color:lightblue;
	
}

.prg-code {
	margin-left:0px;
	width:515pt;
	background-color:lightyellow;
	padding:10px;
	font-weight:bold;
}


.niceview {
	margin-left:0px;
	width:500pt;
	background-color:white;
	border-color:lightgray;
	border-width:1px;
	border-style:solid;
	padding:10px;
}

td
{
padding:3px;
}

table.dados
{

margin-left:0px;
width:53.5em;
border-collapse:collapse;
border:1px solid red;
text-align:center;


}

th
{
background-color:darkgreen;
color:yellow;
font-weight:bold;
text-transform:uppercase;
}

.pagebody
{
padding:10px;
margin-left:50px;
border-width:1px;
border-style:solid;
border-color:white;
background-color:white;
width:90%;
}
.mybody
{
margin-top:20pt;
margin-bottom:20pt;
margin-left:20pt;
margin-right:20pt;
border-color:lightgray;
background-image:url('background.png');
}
</style>
<body class=mybody><font color="black">
<div class=pagebody>
<hr>
<center><b style="font-size:1.5em;" >Curso completo de DirectX Gerenciado</b><br>
Gameprog - Escola de programação de jogos digitais<br>
Contato: gameprog.br@gmail.com<br>
<b>Fase 04-1</b></center>
<hr>
<table align="left" border="0" cellspacing="0" cellpadding="0" width="20%">
<tr><td><a href="mdx9.html#start" style="color:blue"> index </a></td>
<td><a href="track03-4.html" style="color:blue">&lt;&lt;</a></td>
<td><a href="track04-2.html" style="color:blue">&gt;&gt;</a></td></tr></table><br><pre>

<hr><a name="track01"></a>
<h3 style="background-color:#80ff80">04.1 Formas primitivas básicas</h3><pre>

<b><u>1.1 Visão geral</b></u>
<div class=prg-code>
<img src=images\prj_Primitivas.png>
</div><span class=prg>
device.SetStreamSource(0, <b>vbQuadrado</b>, 0);
device.DrawPrimitives(<b>PrimitiveType.TriangleList</b>, 0, 2); </span>
Em nossos últimos exemplos temos usados a forma  primitiva  <b>lista  de
triângulos</b> para desenhar o quadrado na qual  apontamos  2  triângulos
presentes nesta lista. Além desta primitiva que já conhecemos há mais
cinco formas primitivas diferentes apresentadas abaixo.

<b><u>a) LineStrips e TriangleList</u></b>
<div class=prg-code>
<img src=images\LineStripsTriangleList.png></div>
<b class=prg>PrimitiveType.LineStrip</b>
Nesta configuração,  os vértices vão sendo ligados formando uma linha
contínua. Esse tipo é usado para desenhar <b>polyline</b>, isto é, múltiplas
linhas costuradas gerando polígonos com grande frequência.

<b class=prg>PrimitiveType.TriangleList</b>
Este tipo monta um triângulo independente a cada 3 vértices.

<b><u>b) PointList e LineList</u></b>
<div class=prg-code>
<img src=images\LinePointList.png></div>
<b class=prg>PrimitiveType.PointList</b>
Os vértices são renderizados como  pontos  na  tela.   A  propriedade
<b class=prg>device.RenderState.PointSize</b> determina  o  tamanho  do  ponto  final:
<span class=prg>device.RenderState.PointSize = 12.0f;</span>
 
<b class=prg>PrimitiveType.LineList</b>
Cada  par  de  vértices  é  renderizado como  um  segmento  de  linha
independente.  O número  de  vértices à disposição dessa configuração
deve ser par.

<b><u>c) TriangleStrips e TriangleFan</u></b>
<div class=prg-code>
<img src=images\TriangleStripsTriangleFan.png></div>
<b class=prg>PrimitiveType.TriangleStrip</b>
Os  vértices  são  renderizados  como  uma  sequência  costurada  de
triângulos. Esse  tipo  é  o  mais usado na construção de modelos 3d.
Tal como <span class=prg>TriangleFan</span>,   essa  configuração  é  mais eficiente porque 
evita a duplicação de vértices.

<b class=prg>PrimitiveType.TriangleFan</b>
Os  vértices  são  renderizados  como  uma  sequência  costurada  de
triângulos tendo o primeiro vértice como base de todos os triângulos
sequentes.

<b><u>1.2 Estrutura da aplicação</b></u>
<img src=images\esquema_prj_Primitivas.png>

<b><u>2.1 Variáveis privadas da classe</b></u>
<div class=niceview><span class="sc5">public</span><span class="sc0"> </span><span class="sc11">partial</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">Tela</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Form</span>
<span class="sc10">{</span>
<b>
<span class="sc2">// Pega o tempo marcado no relógio do sistema </span>
<span class="sc5">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InitialTickCount</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Environment</span><span class="sc10">.</span><span class="sc11">TickCount</span><span class="sc10">;</span>

<span class="sc2">// Quantidade vértices. Utilize múltiplos de 12 </span>
<span class="sc5">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">60</span><span class="sc10">;</span>
</b>
<span class="sc2">// Para criação do dispositivo gráfico </span>
<span class="sc5">private</span><span class="sc0"> </span><span class="sc11">Device</span><span class="sc0"> </span><span class="sc11">device</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span>

<span class="sc2">// Recipiente para os vértices dos triângulos 
// SetPosition() desse formato de vértice aceita uma
// estrutura Vector3 com uma posição (x, y, z) </span>
<span class="sc5">private</span><span class="sc0"> </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc11">triangulo</span><span class="sc10">;</span>

<span class="sc2">// Memória ou buffer de vértices para o quadrado </span>
<span class="sc5">private</span><span class="sc0"> </span><span class="sc11">VertexBuffer</span><span class="sc0"> </span><span class="sc11">vbQuadrado</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span>

<span class=sc2> // (...) </span>
 
<b class=prg>}</b> // fim da classe </span>
</div>
<span class=prg>private static int InitialTickCount = <b>Environment.TickCount;</b></span>
Aqui  nós pegamos o valor do contador de tempo do relógio do sistema,
esse valor é expressado numa unidade  chamada  <b>tick</b>.  Cada segundo é
equivalente a 1000  ticks.  Vamos  usar  esse  valor  para  produzir 
variações na forma primitiva renderizada a  cada  2  dois  segundos.

<span class=prg>private static <b>int nVerticesQtd = 60;</b> </span>
Este valor constante representa a quantidade total de vértices que
serão gerados e gravados depois no buffer de vértices <b>vbQuadrado.</b>

<span class=prg>private <b>CustomVertex.PositionColored[] triangulo;</b> </span>
O posicionamento dos vértices será gerado dentro de cada elemento  da
array triângulo. Em <b>montar_triangulos()</b> essa variável  é inicializada
dessa forma: <span class=prg>
triangulo = new CustomVertex.PositionColored[<b>nVerticesQtd</b>]; </span>

<span class=prg>private <b>VertexBuffer vbQuadrado = null;</b> </span>
Esse aqui é o nosso costumeiro buffer de vértices <b>vbQuadrado</b>.  O nome
desse objeto não corresponde mais com a realidade porque servirá para
renderizar  várias  formas  a partir da interpretação diferente que a
função <b>Renderizar()</b> fará desse conjunto de vértices.   Nós preferimos
continuar com esse e outros nomes aqui  para manter  o  código  desta 
aplicação de exemplo programa familiar.


<b><u>2.2 Inicialização gráfica: initGfx()</b></u>
<div class=niceview><span class="sc5">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initGfx</span><span class="sc10">()</span>
<span class="sc10">{</span>

<span class="sc2">// Configuração dos parâmetros de apresentação </span>
<span class="sc11">PresentParameters</span><span class="sc0"> </span><span class="sc11">pps</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">PresentParameters</span><span class="sc10">();</span>
<span class="sc11">pps</span><span class="sc10">.</span><span class="sc11">Windowed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span>
<span class="sc11">pps</span><span class="sc10">.</span><span class="sc11">SwapEffect</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">SwapEffect</span><span class="sc10">.</span><span class="sc11">Discard</span><span class="sc10">;</span>

<span class="sc2">// Adaptador default, processamento no hardware, processamento de vértice 
// no software, janela (this), parâmetros de apresentação (pps) </span>
<span class="sc11">device</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Device</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">DeviceType</span><span class="sc10">.</span><span class="sc11">Hardware</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span>
<span class="sc11">CreateFlags</span><span class="sc10">.</span><span class="sc11">SoftwareVertexProcessing</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pps</span><span class="sc10">);</span>
<b>
<span class="sc2">// Os vértices serão montados e posicionados nessa função.</span>
<span class="sc11">montar_triangulos</span><span class="sc10">();</span>
</b>
<span class="sc2">// O buffer de vértices vbQuadrado é criado. </span>
<span class="sc11">vbQuadrado</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">VertexBuffer</span><span class="sc10">(</span><span class="sc5">typeof</span><span class="sc10">(</span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">),</span>
<b>nVerticesQtd</b><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">device</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Usage</span><span class="sc10">.</span><span class="sc11">Dynamic</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">Usage</span><span class="sc10">.</span><span class="sc11">WriteOnly</span><span class="sc10">,</span>
<span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">.</span><span class="sc11">Format</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Pool</span><span class="sc10">.</span><span class="sc11">Default</span><span class="sc10">);</span>

<span class="sc2">// O buffer de vértices recebe os vértices da forma geométrica </span>
<span class="sc11">vbQuadrado</span><span class="sc10">.</span><span class="sc11">SetData</span><span class="sc10">(</span><span class="sc11">triangulo</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">LockFlags</span><span class="sc10">.</span><span class="sc11">None</span><span class="sc10">);</span>

<span class="sc2">// O buffer de vértices recebe a função quandoVertexBufferCriado()
// para responder ao evento onCreate() gerado pelo dispositivo </span>
<span class="sc11">vbQuadrado</span><span class="sc10">.</span><span class="sc11">Created</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">quandoVertexBufferCriado</span><span class="sc10">);</span>

<span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// initGfx()
</span></div>

<b class=prg>montar_triangulos();</b>
Essa função vai realizar o trabalho de posicionamento  dos  vértices
que  conforme  a primitiva de renderização selecionada dará origem a
linhas conectadas,  pontos, triângulos vazados, triângulos cheios, e
linhas desconectadas. Essa função vai usar um pouco de trigonometria
para distribuir os vértices em um caminho circular.

<span class=prg>
// O buffer de vértices vbQuadrado é criado. 
vbQuadrado = new <b>VertexBuffer</b>( typeof(CustomVertex.PositionColored), 
<b>nVerticesQtd</b>, device, Usage.Dynamic | Usage.WriteOnly,
CustomVertex.PositionColored.Format, Pool.Default); </span>
A  novidade  dessa função  é  o  número variável de vértices que será
definido pela variável <b>nVerticesQtd</b>.

<b><u>2.3 Posicionando os vértices: montar_triangulos()</b></u>
<div class=niceview><span class="sc5">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">montar_triangulos</span><span class="sc10">()</span>
<span class="sc10">{</span>

<span class="sc2">// Inicializa a array de vértices </span>
<span class="sc11">triangulo</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">[</span><span class="sc11">nVerticesQtd</span><span class="sc10">];</span>
<b>
<span class="sc2">// Gera um gerador de número aleatórios </span>
<span class="sc11">Random</span><span class="sc0"> </span><span class="sc11">sorteio</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Random</span><span class="sc10">();</span>
</b>
<span class="sc2">// Variáveis para o posicionamento dos vértices </span>
<span class="sc16">float</span><span class="sc0"> </span><span class="sc11">xcol</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">;</span>
<span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ylin</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">;</span>
<span class="sc16">float</span><span class="sc0"> </span><span class="sc11">zpos</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1.0f</span><span class="sc10">;</span>

<span class="sc2">// Para acessar o vértice mais adiante... </span>
<span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ndx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span>

<span class="sc2">// Distribuição circular dos vértices no espaço </span>
<span class="sc16">int</span><span class="sc0"> </span><span class="sc11">passo</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">360</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc10">;</span>

<span class="sc2">// Vamos criar nVerticesQtd vértices em círculo </span>
<span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">360.0f</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">+= </span><span class="sc11">passo</span><span class="sc10">)</span>
 <span class="sc10">{</span>
<b>
 <span class="sc2">// Converte graus para radianos </span>
 <span class="sc16">double</span><span class="sc0"> </span><span class="sc11">radianos</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Math</span><span class="sc10">.</span><span class="sc11">PI</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">180.0f</span><span class="sc10">);</span>

 <span class="sc2">// (x,y) distribuidos de maneira circular </span>
 <span class="sc11">xcol</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc10">)</span> <span class="sc11">Math.Cos</span><span class="sc10">(</span><span class="sc11">radianos</span><span class="sc10">);</span>
 <span class="sc11">ylin</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc10">)</span> <span class="sc11">Math.Sin</span><span class="sc10">(</span><span class="sc11">radianos</span><span class="sc10">);</span>
</b>
 <span class="sc2">// Configura a posição do vetor </span>
 <span class="sc11">triangulo</span><span class="sc10">[</span><span class="sc11">ndx</span><span class="sc10">].</span><span class="sc11">SetPosition</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc11">xcol</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ylin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">zpos</span><span class="sc10">));</span>
<b>
 <span class="sc2">// Configura cor com valor aleatório </span>
 <span class="sc11">triangulo</span><span class="sc10">[</span><span class="sc11">ndx</span><span class="sc10">].</span><span class="sc11">Color</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">sorteio</span><span class="sc10">.</span><span class="sc11">Next</span><span class="sc10">(</span><span class="sc4">0xFFFFFF</span><span class="sc10">);</span>

 <span class="sc2">// Coloca no centro o terceiro vértice de cada triângulo </span>
 <span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ndx</span><span class="sc0"> </span><span class="sc10">%</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">triangulo</span><span class="sc10">[</span><span class="sc11">ndx</span><span class="sc10">].</span><span class="sc11">SetPosition</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">));</span>
</b>
 <span class="sc2">// Atualiza índice de controle do vértice </span>
 <span class="sc11">ndx</span><span class="sc10">++;</span>

 <span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// endfor </span>
<span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// montar_triangulos().fim 
</span></div>
<b class=prg>
Random sorteio = new Random(); </b>
O objeto <b>sorteio</b> da classe <b class=prg>Random</b> possui métodos para produzir números
aleatórios. Utilizamos o método <span class=prg>Next()</span> para produzir cores aleatórias
para os vértices dessa forma: <span class=prg>
triangulo[ndx].Color = <b>sorteio.Next(0xFFFFFF);</b> </span>
A classe <b class=prg>Random</b> é do <b class=prg>namespace System</b>; ela é  bastante  utilizada  em
jogos para produzir surpresa e variabilidade.

<b class=prg>double radianos = ncx * (Math.PI / 180.0f);</b>
Essa linha transforma a expressão de ângulos em graus  para  radianos
que são mais pedidos nas funções trigonométricas.

 <b class=prg>
xcol = (float) Math.Cos(radianos);
ylin = (float) Math.Sin(radianos); </b>
Essas  duas  linhas  estabelecem  o posicionamento dos vértices em um
caminho circular. Estão ausentes nesta fórmula a posição de origem do
círculo (0,0,0) e seu raio (1);  geralmente com mais estes argumentos
a fórmula do caminho circular ficaria dessa forma: <span class=prg>
xcol = x_origem + ( (float) Math.Cos(radianos) * raio );
ylin = y_origem + ( (float) Math.Sin(radianos) * raio ); </span>

<b class=prg>
if (<b>ndx % 3 == 0</b>) triangulo[ndx].SetPosition(new Vector3(<b>0, 0, 0</b>)); </b>
Com esse truquinho utilizando  o operador de resto  da  divisão  (%)
conhecido também como modulus, estabelecemos que o terceiro vértice 
de cada trio será configurado com a posição do centro  do  círculo. 

<b><u>2.4 Renderizando a cena</b></u>
<div class=niceview>
<span class="sc5">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Renderizar</span><span class="sc10">()</span>
<span class="sc10">{</span>
<span class="sc2">// Limpa os dispositivos e os buffers de apoio </span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">Clear</span><span class="sc10">(</span><span class="sc11">ClearFlags</span><span class="sc10">.</span><span class="sc11">Target</span><span class="sc10">,</span><span class="sc4">0xFFFFFF</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">1.0f</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span>

<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">BeginScene</span><span class="sc10">();</span>
<span class="sc2">// (...) Todo o código de desenhar vai aqui   </span>

<span class="sc2">// Configura formato do vértice </span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">VertexFormat</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">.</span><span class="sc11">Format</span><span class="sc10">;</span>

<span class="sc2">// Atualiza a câmera </span>
<span class="sc11">AtualizarCamera</span><span class="sc10">();</span>

<span class="sc2">// O renderizador é informado da origem dos dados </span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">SetStreamSource</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">vbQuadrado</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span>

<span class="sc2">// Configuração do tamanho do ponto desenhado </span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">RenderState</span><span class="sc10">.</span><span class="sc11">PointSize</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">12.0f</span><span class="sc10">;</span>

<span class="sc2">// Aguarda um momento e gera um número de 0 a 5. </span>
<span class="sc16">int</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">((</span><span class="sc11">Environment</span><span class="sc10">.</span><span class="sc11">TickCount</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">InitialTickCount</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">2000</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">%</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">;</span>

<span class="sc5">switch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">index</span><span class="sc10">)</span>
<span class="sc10">{</span>

<span class="sc5">case</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// PointList </span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">PointList</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc10">);</span>
<span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: PointList"</span><span class="sc10">;</span><span class="sc0">           
<span class="sc5">break</span><span class="sc10">;</span>

<span class="sc5">case</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// LineList </span>
<span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: LineList"</span><span class="sc10">;</span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">LineList</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span>
<span class="sc5">break</span><span class="sc10">;</span>

<span class="sc5">case</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// LineStrip </span>
<span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: LineStrip"</span><span class="sc10">;</span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">LineStrip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">);</span>
<span class="sc5">break</span><span class="sc10">;</span>

<span class="sc5">case</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// TriangleList </span>
<span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: TriangleList"</span><span class="sc10">;</span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">TriangleList</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">);</span>
<span class="sc5">break</span><span class="sc10">;</span>

<span class="sc5">case</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// TriangleStrip </span>
<span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: TriangleStrip"</span><span class="sc10">;</span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">TriangleStrip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span>
<span class="sc5">break</span><span class="sc10">;</span>

<span class="sc5">case</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// TriangleFan </span>
<span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: TriangleFan"</span><span class="sc10">;</span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">TriangleFan</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span>
<span class="sc5">break</span><span class="sc10">;</span>
<span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// end switch </span>

<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">EndScene</span><span class="sc10">();</span>

<span class="sc2">// Apresenta a cena renderizada na tela </span>
<span class="sc11">device</span><span class="sc10">.</span><span class="sc11">Present</span><span class="sc10">();</span>

<span class="sc2">// Libera a janela para processar outros eventos </span>
<span class="sc11">Application</span><span class="sc10">.</span><span class="sc11">DoEvents</span><span class="sc10">();</span>
<span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// Renderizar().fim
</span></div>

<b class=prg>int index = ((Environment.TickCount - InitialTickCount) / 2000) % 6; </b>
Essa linha provoca uma pausa de dois segundos  para  visualização  da
forma  renderizada  enquanto  gera  um  número de 0 a 5 que provoca a 
variação  da  primitiva  renderizada  no  bloco de código do <b class=prg>switch{}</b>.

<span class=prg>device.DrawPrimitives(PrimitiveType.LineList, 0, <b>nVerticesQtd / 2</b>) </span>
Devido ao uso diferente que cada tipo de primitiva faz do conjunto de
vértices, o último argumento do método <b class=prg>DrawPrimitives()</b> que informa a
quantidade de primitivas a ser renderizada deve  ser  matematicamente
ajustado em função da quantidade de vértices contido no buffer.  Aqui
nesse exemplo, com 60 vértices  somente é possível desenhar 30 linhas
porque o tipo <b class=prg>LineList</b> usa dois vértices separadamente.

<b><u>3. Código fonte do projeto de exemplo: prj_Primitivas</b></u>
<div class=prg-code>
<img src=images\prj_Primitivas.png>

<span class="sc2">// prj_Primitivas - Arquivo: Tela.cs
// Esse projeto mostra como renderizar outras primitivas
// Produzido por www.gameprog.com.br
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">System</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">Drawing</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">ComponentModel</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">Windows</span><span class="sc10">.</span><span class="sc11">Forms</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">Microsoft</span><span class="sc10">.</span><span class="sc11">DirectX</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">Microsoft</span><span class="sc10">.</span><span class="sc11">DirectX</span><span class="sc10">.</span><span class="sc11">Direct3D</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc5">namespace</span><span class="sc0"> </span><span class="sc11">prj_Primitivas</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
  </span><span class="sc5">public</span><span class="sc0"> </span><span class="sc11">partial</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">Tela</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Form</span><span class="sc0">
  </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc2">// Pega o tempo marcado no relógio do sistema
</span><span class="sc0">    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InitialTickCount</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Environment</span><span class="sc10">.</span><span class="sc11">TickCount</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc2">// Quantidade vértices. Utilize múltiplos de 12
</span><span class="sc0">    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">60</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc2">// Para criação do dispositivo gráfico
</span><span class="sc0">    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc11">Device</span><span class="sc0"> </span><span class="sc11">device</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc2">// Recipiente para os vértices dos triângulos
</span><span class="sc0">    </span><span class="sc2">// SetPosition() desse formato de vértice aceita uma
</span><span class="sc0">    </span><span class="sc2">// estrutura Vector3 com uma posição (x, y, z)
</span><span class="sc0">    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc11">triangulo</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc2">// Memória ou buffer de vértices para o quadrado
</span><span class="sc0">    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc11">VertexBuffer</span><span class="sc0"> </span><span class="sc11">vbQuadrado</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0"> 

    </span><span class="sc5">public</span><span class="sc0"> </span><span class="sc11">Tela</span><span class="sc10">()</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">

      </span><span class="sc2">// Inicialização dos componentes.
</span><span class="sc0">      </span><span class="sc11">InitializeComponent</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// Toda renderização deverá ocorrer dentro do evento onPaint()
</span><span class="sc0">      </span><span class="sc2">// Isso evita interferência estrangeira de processamento default
</span><span class="sc0">      </span><span class="sc2">// do sistema Windows
</span><span class="sc0">      </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">SetStyle</span><span class="sc10">(</span><span class="sc11">ControlStyles</span><span class="sc10">.</span><span class="sc11">AllPaintingInWmPaint</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">ControlStyles</span><span class="sc10">.</span><span class="sc11">Opaque</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// construtor
</span><span class="sc0">
    </span><span class="sc5">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initGfx</span><span class="sc10">()</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">

      </span><span class="sc2">// Configuração dos parâmetros de apresentação
</span><span class="sc0">      </span><span class="sc11">PresentParameters</span><span class="sc0"> </span><span class="sc11">pps</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">PresentParameters</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc11">pps</span><span class="sc10">.</span><span class="sc11">Windowed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc11">pps</span><span class="sc10">.</span><span class="sc11">SwapEffect</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">SwapEffect</span><span class="sc10">.</span><span class="sc11">Discard</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Adaptador default, processamento no hardware, processamento de vértice 
</span><span class="sc0">      </span><span class="sc2">// no software, janela (this), parâmetros de apresentação (pps)
</span><span class="sc0">       </span><span class="sc11">device</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Device</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">DeviceType</span><span class="sc10">.</span><span class="sc11">Hardware</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0">
        </span><span class="sc11">CreateFlags</span><span class="sc10">.</span><span class="sc11">SoftwareVertexProcessing</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pps</span><span class="sc10">);</span><span class="sc0">

      </span><span class="sc2">// Os vértices serão montados e posicionados nessa função.
</span><span class="sc0">      </span><span class="sc11">montar_triangulos</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// O buffer de vértices vbQuadrado é criado.
</span><span class="sc0">      </span><span class="sc11">vbQuadrado</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">VertexBuffer</span><span class="sc10">(</span><span class="sc5">typeof</span><span class="sc10">(</span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">),</span><span class="sc0">
         </span><span class="sc11">nVerticesQtd</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">device</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Usage</span><span class="sc10">.</span><span class="sc11">Dynamic</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">Usage</span><span class="sc10">.</span><span class="sc11">WriteOnly</span><span class="sc10">,</span><span class="sc0">
         </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">.</span><span class="sc11">Format</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Pool</span><span class="sc10">.</span><span class="sc11">Default</span><span class="sc10">);</span><span class="sc0">

      </span><span class="sc2">// O buffer de vértices recebe os vértices da forma geométrica
</span><span class="sc0">      </span><span class="sc11">vbQuadrado</span><span class="sc10">.</span><span class="sc11">SetData</span><span class="sc10">(</span><span class="sc11">triangulo</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">LockFlags</span><span class="sc10">.</span><span class="sc11">None</span><span class="sc10">);</span><span class="sc0">

      </span><span class="sc2">// O buffer de vértices recebe a função quandoVertexBufferCriado()
</span><span class="sc0">      </span><span class="sc2">// para responder ao evento onCreate() gerado pelo dispositivo
</span><span class="sc0">      </span><span class="sc11">vbQuadrado</span><span class="sc10">.</span><span class="sc11">Created</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">quandoVertexBufferCriado</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// initGfx()
</span><span class="sc0">
    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">AtualizarCamera</span><span class="sc10">()</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc2">// Dados para a configuração da matriz de projeção
</span><span class="sc0">      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">largura</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Width</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">// largura da janela
</span><span class="sc0">      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">altura</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Height</span><span class="sc10">;</span><span class="sc0">  </span><span class="sc2">// altura da janela      
</span><span class="sc0">      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">aspecto</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">largura</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">altura</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">// aspecto dos gráficos      
</span><span class="sc0">      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">campo_visao</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc10">)</span><span class="sc11">Math</span><span class="sc10">.</span><span class="sc11">PI</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">// Campo de visão
</span><span class="sc0">      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">corte_perto</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1.0f</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">corte_longe</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">100.0f</span><span class="sc10">;</span><span class="sc0">     

      </span><span class="sc2">// Mostra a parte interna do polígono
</span><span class="sc0">      </span><span class="sc2">// Experimente desativar essa linha com a instrução de comentário      
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">RenderState</span><span class="sc10">.</span><span class="sc11">CullMode</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Cull</span><span class="sc10">.</span><span class="sc11">None</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Utiliza iluminação default
</span><span class="sc0">      </span><span class="sc2">// Experimente desativar essa linha com a instrução de comentário  
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">RenderState</span><span class="sc10">.</span><span class="sc11">Lighting</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Configura a matriz de projeção
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">Transform</span><span class="sc10">.</span><span class="sc11">Projection</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Matrix</span><span class="sc10">.</span><span class="sc11">PerspectiveFovLH</span><span class="sc10">(</span><span class="sc11">campo_visao</span><span class="sc10">,</span><span class="sc0">
          </span><span class="sc11">aspecto</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">corte_perto</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">corte_longe</span><span class="sc10">);</span><span class="sc0">      

      </span><span class="sc2">// Dados para a configuração da matriz de visualização
</span><span class="sc0">      </span><span class="sc11">Vector3</span><span class="sc0"> </span><span class="sc11">cam_pos</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">5.0f</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc2">// Posição da camera
</span><span class="sc0">      </span><span class="sc11">Vector3</span><span class="sc0"> </span><span class="sc11">cam_alvo</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc2">// Alvo da câmera
</span><span class="sc0">      </span><span class="sc11">Vector3</span><span class="sc0"> </span><span class="sc11">cam_orientacao</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">1.0f</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc2">// Orientação da câmera          
</span><span class="sc0">
      </span><span class="sc2">// Configura a matriz de visualização
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">Transform</span><span class="sc10">.</span><span class="sc11">View</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Matrix</span><span class="sc10">.</span><span class="sc11">LookAtLH</span><span class="sc10">(</span><span class="sc11">cam_pos</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">cam_alvo</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">cam_orientacao</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">  </span><span class="sc2">// AtualizarCamera()
</span><span class="sc0">
    </span><span class="sc5">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Renderizar</span><span class="sc10">()</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc2">// Limpa os dispositivos e os buffers de apoio
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">Clear</span><span class="sc10">(</span><span class="sc11">ClearFlags</span><span class="sc10">.</span><span class="sc11">Target</span><span class="sc10">,</span><span class="sc4">0xFFFFFF</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">1.0f</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">

      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">BeginScene</span><span class="sc10">();</span><span class="sc0">
      </span><span class="sc2">// (...) Todo o código de desenhar vai aqui   
</span><span class="sc0">
      </span><span class="sc2">// Configura formato do vértice
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">VertexFormat</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">.</span><span class="sc11">Format</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Atualiza a câmera
</span><span class="sc0">      </span><span class="sc11">AtualizarCamera</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// O renderizador é informado da origem dos dados
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">SetStreamSource</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">vbQuadrado</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">

      </span><span class="sc2">// Configuração do tamanho do ponto desenhado
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">RenderState</span><span class="sc10">.</span><span class="sc11">PointSize</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">12.0f</span><span class="sc10">;</span><span class="sc0">
      
      </span><span class="sc2">// Aguarda um momento e gera um número de 0 a 5.
</span><span class="sc0">      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">((</span><span class="sc11">Environment</span><span class="sc10">.</span><span class="sc11">TickCount</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">InitialTickCount</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">2000</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">%</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc5">switch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">index</span><span class="sc10">)</span><span class="sc0">
      </span><span class="sc10">{</span><span class="sc0">
        
        </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// PointList
</span><span class="sc0">          </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">PointList</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc10">);</span><span class="sc0">
          </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: PointList"</span><span class="sc10">;</span><span class="sc0">           
          </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
        
        </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// LineList
</span><span class="sc0">          </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: LineList"</span><span class="sc10">;</span><span class="sc0">
          </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">LineList</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
           </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
        
        </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// LineStrip
</span><span class="sc0">          </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: LineStrip"</span><span class="sc10">;</span><span class="sc0">
          </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">LineStrip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
          </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
        
        </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// TriangleList
</span><span class="sc0">          </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: TriangleList"</span><span class="sc10">;</span><span class="sc0">
          </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">TriangleList</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">);</span><span class="sc0">
          </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
        
        </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// TriangleStrip
</span><span class="sc0">          </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: TriangleStrip"</span><span class="sc10">;</span><span class="sc0">
          </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">TriangleStrip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
          </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
      
        </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc2">// TriangleFan
</span><span class="sc0">          </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Text</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"prj_Primitivas: TriangleFan"</span><span class="sc10">;</span><span class="sc0">
          </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">DrawPrimitives</span><span class="sc10">(</span><span class="sc11">PrimitiveType</span><span class="sc10">.</span><span class="sc11">TriangleFan</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
          </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// end switch
</span><span class="sc0">
      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">EndScene</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// Apresenta a cena renderizada na tela
</span><span class="sc0">      </span><span class="sc11">device</span><span class="sc10">.</span><span class="sc11">Present</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// Libera a janela para processar outros eventos
</span><span class="sc0">      </span><span class="sc11">Application</span><span class="sc10">.</span><span class="sc11">DoEvents</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// Renderizar().fim
</span><span class="sc0">
    </span><span class="sc5">protected</span><span class="sc0"> </span><span class="sc5">override</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">OnPaint</span><span class="sc10">(</span><span class="sc11">PaintEventArgs</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc2">// Trate outros processos padrões
</span><span class="sc0">      </span><span class="sc5">base</span><span class="sc10">.</span><span class="sc11">OnPaint</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">);</span><span class="sc0">

      </span><span class="sc2">// Renderize a cena
</span><span class="sc0">      </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Renderizar</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// Invalide para chamar novamente onPaint()
</span><span class="sc0">      </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc11">Invalidate</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// onPaint().fim 
</span><span class="sc0">

    </span><span class="sc5">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">montar_triangulos</span><span class="sc10">()</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">

      </span><span class="sc2">// Inicializa a array de vértices
</span><span class="sc0">      </span><span class="sc11">triangulo</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">CustomVertex</span><span class="sc10">.</span><span class="sc11">PositionColored</span><span class="sc10">[</span><span class="sc11">nVerticesQtd</span><span class="sc10">];</span><span class="sc0">

      </span><span class="sc2">// Gera um gerador de número aleatórios
</span><span class="sc0">      </span><span class="sc11">Random</span><span class="sc0"> </span><span class="sc11">sorteio</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Random</span><span class="sc10">();</span><span class="sc0">

      </span><span class="sc2">// Variáveis para o posicionamento dos vértices
</span><span class="sc0">      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">xcol</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ylin</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">zpos</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1.0f</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Para acessar o vértice mais adiante...
</span><span class="sc0">      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ndx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Distribuição circular dos vértices no espaço
</span><span class="sc0">      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">passo</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">360</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">nVerticesQtd</span><span class="sc10">;</span><span class="sc0">

      </span><span class="sc2">// Vamos criar nVerticesQtd vértices em círculo
</span><span class="sc0">      </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.0f</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">360.0f</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc11">passo</span><span class="sc10">)</span><span class="sc0">
      </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc2">// Converte graus para radianos
</span><span class="sc0">        </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">radianos</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ncx</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Math</span><span class="sc10">.</span><span class="sc11">PI</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">180.0f</span><span class="sc10">);</span><span class="sc0">

        </span><span class="sc2">// (x,y) distribuidos de maneira circular
</span><span class="sc0">        </span><span class="sc11">xcol</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc10">)</span><span class="sc11">Math</span><span class="sc10">.</span><span class="sc11">Cos</span><span class="sc10">(</span><span class="sc11">radianos</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">ylin</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">float</span><span class="sc10">)</span><span class="sc11">Math</span><span class="sc10">.</span><span class="sc11">Sin</span><span class="sc10">(</span><span class="sc11">radianos</span><span class="sc10">);</span><span class="sc0">
        
        </span><span class="sc2">// Configura a posição do vetor
</span><span class="sc0">        </span><span class="sc11">triangulo</span><span class="sc10">[</span><span class="sc11">ndx</span><span class="sc10">].</span><span class="sc11">SetPosition</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc11">xcol</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ylin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">zpos</span><span class="sc10">));</span><span class="sc0">
        
        </span><span class="sc2">// Configura cor com valor aleatório
</span><span class="sc0">        </span><span class="sc11">triangulo</span><span class="sc10">[</span><span class="sc11">ndx</span><span class="sc10">].</span><span class="sc11">Color</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">sorteio</span><span class="sc10">.</span><span class="sc11">Next</span><span class="sc10">(</span><span class="sc4">0xFFFFFF</span><span class="sc10">);</span><span class="sc0">

        </span><span class="sc2">// Coloca no centro o terceiro vértice de cada triângulo
</span><span class="sc0">        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ndx</span><span class="sc0"> </span><span class="sc10">%</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">triangulo</span><span class="sc10">[</span><span class="sc11">ndx</span><span class="sc10">].</span><span class="sc11">SetPosition</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Vector3</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">));</span><span class="sc0">
        
        </span><span class="sc2">// Atualiza índice de controle do vértice
</span><span class="sc0">        </span><span class="sc11">ndx</span><span class="sc10">++;</span><span class="sc0">

      </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// endfor
</span><span class="sc0">    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// montar_triangulos().fim 
</span><span class="sc0">
    </span><span class="sc2">// Remonta o buffer de vértice no evento onCreate
</span><span class="sc0">    </span><span class="sc5">private</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">quandoVertexBufferCriado</span><span class="sc10">(</span><span class="sc5">object</span><span class="sc0"> </span><span class="sc11">sender</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">EventArgs</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nInicioDeslocamentoTrancado</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc11">VertexBuffer</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">VertexBuffer</span><span class="sc10">)</span><span class="sc11">sender</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">SetData</span><span class="sc10">(</span><span class="sc11">triangulo</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nInicioDeslocamentoTrancado</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">LockFlags</span><span class="sc10">.</span><span class="sc11">None</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// quandoVertexBufferCriado().fim
</span><span class="sc0">
  </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// fim da classe
</span><span class="sc10">}</span><span class="sc0"> </span><span class="sc2">// fim do namespace
</span></div>
<hr>
<table align="bottom" border="0" cellspacing="0" cellpadding="0" width="20%">
<tr><td><a href="mdx9.html#start" style="color:blue"> index </a></td>
<td><a href="track03-4.html" style="color:blue">&lt;&lt;</a></td>
<td><a href="track04-2.html" style="color:blue">&gt;&gt;</a></td></tr></table><pre>
<hr><div style="background-color:lightyellow;color:blue">
<center>Produzido por Gameprog: Jair Pereira - Março/2014 ©
gameprog.br@gmail.com
http://www.gameprog.com.br</center><hr></div></div></body></html>